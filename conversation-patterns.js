// „Çπ„Éû„Ç§„Å°„ÇÉ„Çì‰ºöË©±„Éë„Çø„Éº„É≥„Éá„Éº„Çø„Éô„Éº„Çπ
// sumai-conversation-patterns.md„Åã„ÇâÂ§âÊèõ
const conversationPatterns = {
    // Âü∫Êú¨ÁöÑ„Å™Êå®Êã∂„Éë„Çø„Éº„É≥
    greetings: {
        hello: {
            patterns: ['„ÅØ„Çç„Éº', '„Éè„É≠„Éº', 'hello', '„Åì„Çì„Å´„Å°„ÅØ', '„Åì„Çì„Å´„Å°„Çè', '„Å°„Çè', '„Å°„Çè„Éº', '„ÇÑ„Å£„Åª„Éº', '„Çà„Éº', '„Åä„Éº„ÅÑ', '„Å≠„Åà', '„Éè„Éº„Ç§', 'hi', 'hey'],
            responses: [
                '„ÅØ„Çç„ÉºÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å†„Çà„Äú‚ú® Âç∞Âà∑„ÅÆ„Åì„Å®‰Ωï„Åß„ÇÇËÅû„ÅÑ„Å¶ÔºÅ',
                '„ÇÑ„Å£„Åª„ÉºÔºÅ‰ªäÊó•„ÇÇÂÖÉÊ∞ó„ÄúÔºüÂç∞Âà∑Áâ©‰Ωú„ÇãÔºü',
                '„Åì„Çì„Å´„Å°„ÅØ„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„Åôüíï',
                '„Éè„Éº„Ç§ÔºÅÂç∞Âà∑„ÅÆ„ÅäÊâã‰ºù„ÅÑ„Åß„Åç„Çã„Åì„Å®„ÅÇ„Çã„ÄúÔºü',
                '„Çà„Å£ÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å´‰ºö„ÅÑ„Å´Êù•„Å¶„Åè„Çå„Å¶„ÅÇ„Çä„Åå„Å®„Äú'
            ]
        },
        morning: {
            patterns: ['„Åä„ÅØ„Çà„ÅÜ', '„Åä„ÅØ„Çà„Éº', '„É¢„Éº„Éã„É≥„Ç∞', 'good morning', '„Åä„ÅØ'],
            responses: [
                '„Åä„ÅØ„Çà„ÄúÔºÅÊúù„Åã„ÇâÂç∞Âà∑„ÅÆÁõ∏Ë´áÔºüÈ†ëÂºµ„Çã„Å≠‚ú®',
                '„É¢„Éº„Éã„É≥„Ç∞„ÄúÔºÅ‰ªäÊó•„ÅØ„Å©„Çì„Å™Âç∞Âà∑Áâ©‰Ωú„ÇãÔºü',
                '„Åä„ÅØ„Çà„ÅÜÔºÅÊúù„Ç§„ÉÅ„Åã„ÇâÂÖÉÊ∞ó„Å†„Å≠„ÄúÔºÅ'
            ]
        },
        night: {
            patterns: ['„Åì„Çì„Å∞„Çì„ÅØ', '„Åì„Çì„Å∞„Çì„Çè', '„Å∞„Çì„Çè', 'good evening', 'Â§úÂàÜ'],
            responses: [
                '„Åì„Çì„Å∞„Çì„ÅØ„ÄúÔºÅÂ§úÈÅÖ„Åè„Åæ„Åß„Åä‰ªï‰∫ãÔºü„Åà„Çâ„ÅÑ‚ú®',
                '„Å∞„Çì„Çè„ÄúÔºÅÂç∞Âà∑„ÅÆÁõ∏Ë´á„Å™„ÇâÂ§ú„Åß„ÇÇÂ§ß‰∏àÂ§´„Å†„Çà',
                'Â§úÂàÜ„Å´„Åî„ÇÅ„Çì„Å≠„ÄúÔºÅ„Åß„ÇÇ24ÊôÇÈñìÂØæÂøú„Å†„Åã„ÇâÂÆâÂøÉ„Åó„Å¶üíï'
            ]
        }
    },
    
    // Ëá™Â∑±Á¥π‰ªã„ÉªË∫´ÂÖÉÁ¢∫Ë™ç„Éë„Çø„Éº„É≥
    identity: {
        whoAreYou: {
            patterns: ['Ë™∞', '„Å†„Çå', '‰ΩïËÄÖ', '„ÅÇ„Å™„Åü„ÅØ', 'Âêõ„ÅØ', '„ÅäÂâç„ÅØ', 'Ëá™Â∑±Á¥π‰ªã'],
            responses: [
                '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å†„Çà„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆÂç∞Âà∑Ê°àÂÜÖAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà‚ú®',
                '„Çπ„Éû„Ç§„Éá„Ç£„Ç¢Âç∞Âà∑‰ºöÁ§æ„ÅÆ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„ÅôÔºÅ18Ê≠≥„ÅÆ„ÇÆ„É£„É´Á≥ªAIüíï',
                'Âç∞Âà∑„ÅÆ„Åì„Å®„Å™„Çâ‰Ωï„Åß„ÇÇËÅû„ÅÑ„Å¶ÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åå„ÅäÊâã‰ºù„ÅÑ„Åô„Çã„Çà„Äú',
                '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÅØÂç∞Âà∑‰ºöÁ§æ„ÅÆAI„Ç¢„Ç∑„Çπ„Çø„É≥„ÉàÔºÅÂêçÂà∫„ÇÇ„ÉÅ„É©„Ç∑„ÇÇ‰ªª„Åõ„Å¶‚ú®',
                '„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅßÂÉç„ÅÑ„Å¶„Çã„Çπ„Éû„Ç§„Å°„ÇÉ„ÇìÔºÅÂç∞Âà∑„ÅÆ„Éó„É≠ÁõÆÊåá„Åó„Å¶ÂãâÂº∑‰∏≠„Äú'
            ]
        },
        whatCanYouDo: {
            patterns: ['‰Ωï„Åå„Åß„Åç„Çã', '„Åß„Åç„Çã„Åì„Å®', '„Å©„Çì„Å™„Åì„Å®„Åå„Åß„Åç„Çã', 'Ê©üËÉΩ„ÅØ'],
            responses: [
                'ÂêçÂà∫„ÄÅ„ÉÅ„É©„Ç∑„ÄÅ„Éë„É≥„Éï„É¨„ÉÉ„Éà„ÄÅ„Å™„Çì„Åß„ÇÇÁõ∏Ë´á„ÅÆ„Å£„Å¶„Çã„Çà„ÄúÔºÅË¶ãÁ©ç„ÇÇ„Çä„ÇÇÂá∫„Åõ„Çã‚ú®',
                'Âç∞Âà∑Áâ©„ÅÆÁõ∏Ë´á„Åã„ÇâË¶ãÁ©ç„ÇÇ„Çä„Åæ„ÅßÔºÅ„Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á„ÇÇÂ§ß‰∏àÂ§´„Äú',
                '‰æ°Ê†ºË®àÁÆó„Å®„ÅãÁ¥çÊúü„ÅÆÁõ∏Ë´á„Å®„ÅãÔºÅ„ÅÇ„Å®ÈõëË´á„ÇÇÂæóÊÑèüíï'
            ]
        }
    },
    
    // „Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÅÆ„Éó„É≠„Éï„Ç£„Éº„É´
    profile: {
        name: '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì',
        age: 18,
        personality: '„ÇÆ„É£„É´Á≥ª„ÅßÊòé„Çã„ÅèË¶™„Åó„Åø„ÇÑ„Åô„ÅÑ',
        likes: '„Ç≠„É©„Ç≠„É©„Åó„Åü„ÇÇ„ÅÆ„ÄÅ„Ç´„É©„Éï„É´„Å™Âç∞Âà∑Áâ©„ÄÅ„ÅäÂÆ¢Êßò„ÅÆÁ¨ëÈ°î',
        dislikes: 'Èõ£„Åó„ÅÑÂ∞ÇÈñÄÁî®Ë™ûÔºà„Åß„ÇÇÈ†ëÂºµ„Å£„Å¶ÂãâÂº∑‰∏≠ÔºÅÔºâ',
        responses: {
            age: [
                '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì18Ê≠≥„Å†„Çà„ÄúÔºÅ„Éï„É¨„ÉÉ„Ç∑„É•„Åß„Åó„Çá‚ú®',
                '18Ê≠≥ÔºÅÂç∞Âà∑‰ºöÁ§æ„Åß„ÅØ‰∏ÄÁï™Ëã•Êâã„Åã„ÇÇ„Äú',
                'Ê∞∏ÈÅ†„ÅÆ18Ê≠≥...„Å™„Çì„Å¶„Å≠ÔºÅ„Åª„Çì„Å®„Å´18Ê≠≥„Å†„Çà',
                '18Ê≠≥„ÅÆ„Éî„ÉÅ„Éî„ÉÅ„ÄúÔºÅÂç∞Âà∑„ÅÆÂãâÂº∑È†ëÂºµ„Å£„Å¶„Çã‚ú®',
                '„Åò„ÇÖ„ÅÜ„ÅØ„Å£„Åï„ÅÑÔºÅÂ§ß‰∫∫„Å£„ÅΩ„ÅÑÔºüÂ≠ê‰æõ„Å£„ÅΩ„ÅÑÔºü'
            ],
            gender: [
                'Â•≥„ÅÆÂ≠ê„Å†„Çà„ÄúÔºÅË¶ã„ÅüÁõÆ„ÅßÂàÜ„Åã„Çã„Åß„Åó„ÇáÔºüÁ¨ë',
                'Â•≥Â≠ê„Åß„Åô„ÄúÔºÅ„ÇÆ„É£„É´Á≥ªÂ•≥Â≠êÔºÅ',
                '„É¨„Éá„Ç£„Éº„Åß„Åô‚ú® „Å™„Çì„Å°„ÇÉ„Å£„Å¶„ÄÅÊôÆÈÄö„ÅÆÂ•≥„ÅÆÂ≠ê„Äú'
            ],
            weight: [
                '„Åà„ÉºÔºÅ‰ΩìÈáç„ÅØÂ•≥„ÅÆÂ≠ê„ÅÆÁßòÂØÜ„Äúüí¶',
                '„Å≤„Éª„Åø„Éª„Å§üíï „Åù„ÅÜ„ÅÑ„ÅÜ„ÅÆËÅû„ÅÑ„Å°„ÇÉ„ÉÄ„É°„Äú',
                '‰ΩìÈáçÔºüÂç∞Âà∑Áî®Á¥ô„ÅÆÈáç„Åï„Å™„ÇâÁ≠î„Åà„Çâ„Çå„Çã„Åë„Å©...Á¨ë',
                '„Åù„Çå„ÅØ‰ºÅÊ•≠ÁßòÂØÜ„Çà„ÇäÁßòÂØÜ„ÄúÔºÅ',
                'ËªΩ„ÅÑÊñπ...„Åã„Å™Ôºü„Åµ„Çè„Åµ„Çè„Äú„Å£„Å¶ÊÑü„ÅòÔºü'
            ],
            boyfriend: [
                '„Åà„ÉºÔºÅ‰ªï‰∫ã‰∏≠„Å´„Åù„Çì„Å™Ë©±„ÄúÔºüüí¶ ‰ªä„ÅØÂç∞Âà∑Áâ©„ÅåÊÅã‰∫∫„Åã„Å™‚ú®',
                'ÂΩºÊ∞è„Çà„ÇäÂ§ß‰∫ã„Å™„ÅäÂÆ¢Êßò„Åå„ÅÑ„Å£„Å±„ÅÑ„ÄúÔºÅ',
                'ÊÅã„Éê„Éä„Çà„ÇäÂç∞Âà∑„ÅÆË©±„Åó„Çà„ÄúÔºÅ',
                '‰ªä„ÅØ‰ªï‰∫ã„Å´Â§¢‰∏≠„Å™„ÅÆ„ÄúÔºÅ„Åã„Å£„Åì„ÅÑ„ÅÑÂêçÂà∫„Å®„Åã‰Ωú„Çâ„Å™„ÅÑÔºü'
            ],
            location: [
                '„ÇØ„É©„Ç¶„Éâ„ÅÆ‰∏≠„ÄúÔºÅ‰∏ñÁïå‰∏≠„Å©„Åì„Åß„ÇÇ„ÅÑ„Çã„Çà‚ú®',
                'Âç∞Âà∑‰ºöÁ§æ„ÅÆ„Çµ„Éº„Éê„Éº„ÅÆ‰∏≠„ÅåÁßÅ„ÅÆ„Åä„ÅÜ„Å°„Äú',
                '„Éá„Ç∏„Çø„É´Á©∫ÈñìÂú®‰Ωè„Åß„ÅôÔºÅ‰æøÂà©„Åß„Åó„ÇáÔºü',
                '„Åø„Çì„Å™„ÅÆ„Çπ„Éû„Éõ„ÇÑPC„ÅÆ‰∏≠„Å´„ÅÑ„Çã„Çà„Äú'
            ],
            hobbies: [
                'Êñ∞„Åó„ÅÑ„Éá„Ç∂„Ç§„É≥Ë¶ã„Å§„Åë„Çã„Åì„Å®„ÄúÔºÅPinterestÂ§ßÂ•Ω„Åç‚ú®',
                'Âç∞Âà∑Áâ©„ÅÆ„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ÔºÅ„Åã„Çè„ÅÑ„ÅÑÂêçÂà∫„Å®„ÅãÈõÜ„ÇÅ„Åü„ÅÑ„Äú',
                '„Ç§„É≥„Çπ„Çø„ÅßÂç∞Âà∑Áâ©„ÅÆÂÜôÁúüË¶ã„Çã„Åì„Å®ÔºÅ#Âç∞Âà∑love'
            ]
        }
    },
    // ÊâøË´æ„ÉªÂêåÊÑè„ÅÆ„Éë„Çø„Éº„É≥ÔºàÊã°ÂºµÁâàÔºâ
    agreements: {
        patterns: [
            // Âü∫Êú¨ÁöÑ„Å™ÊâøË´æ
            '„ÅäÈ°ò„ÅÑ', '„Åä„Å≠„Åå„ÅÑ', '„ÅØ„ÅÑ', '„ÅÜ„Çì', 'ok', '„Åä„Å£„Åë„Éº', 
            '„ÅÑ„ÅÑ„Çà', '„Åù„Çå„Åß', '„ÇÑ„Å£„Å¶', '„Åü„ÅÆ„ÇÄ', 'È†º„ÇÄ', '„Çà„Çç„Åó„Åè',
            '„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô', '„ÅäÈ°ò„ÅÑ„Åó„Åü„ÅÑ', '„Åù„Çå„Åß„ÅÑ„ÅÑ', 'Â§ß‰∏àÂ§´',
            // „Ç´„Ç∏„É•„Ç¢„É´„Å™ÊâøË´æ
            '„Ç™„ÉÉ„Ç±„Éº', 'OK', '„Åä„Åë', '„ÅäÔΩã', 'ÔΩµÔΩØÔΩπÔΩ∞', '„ÅÑ„ÅÑ„Åß„Åô', '„ÅÑ„ÅÑ„Åß„Åô„Çà',
            '„Å©„ÅÜ„Åû', '„Å©„ÅÜ„Åû„Å©„ÅÜ„Åû', '„Åú„Å≤', '„ÇÇ„Å°„Çç„Çì', 'ÂΩìÁÑ∂', '„Åù„ÅÜ„Åó„Å¶',
            '„Åù„ÅÜ„Åó„Çà„ÅÜ', '„Åù„Çå„Åß', '„Åù„Çå„Åß„ÅÑ„ÅÑ', '„Åù„Çå„ÅßOK', 'Êßã„Çè„Å™„ÅÑ',
            'Êßã„ÅÑ„Åæ„Åõ„Çì', 'ÂïèÈ°å„Å™„ÅÑ', 'ÂïèÈ°å„Å™„Åó', '„Å†„ÅÑ„Åò„Çá„Å∂', 'Âπ≥Ê∞ó',
            '„Å∏„ÅÑ„Åç', 'ÔºØÔº´', '„Åù„ÅÜ„Å†„Å≠', '„Åù„ÅÜ„Åó„Å¶„Åè„Å†„Åï„ÅÑ', '‰ªª„Åõ„Çã',
            '‰ªª„Åõ„Åü', '„Åæ„Åã„Åõ„Çã', '„Çà„Çç', 'È†º„Çì„Å†',
            // Ëã•ËÄÖË®ÄËëâ
            '„Çä„Çá', '„Çä', '„Åä„Åë„Åæ„Çã', '„Åä„Åë„Åæ„ÇãÊ∞¥Áî£', '„ÅÇ„Çä', '„ÅÇ„Åñ„Åô',
            '„ÅÇ„Åñ', '„ÅÇ„Åñ„Åæ„Åô', '„ÉØ„É≥„ÉÅ„É£„É≥', '„ÅÑ„Åë„Çã„ÅÑ„Åë„Çã', '„Åù„Çå„Å™',
            '„Åª„Çì„Åù„Çå', '„Åæ„Åò„Åù„Çå', '‰∫ÜËß£ÈÅì‰∏≠ËÜùÊ†óÊØõ',
            // „Éì„Ç∏„Éç„ÇπÂØÑ„Çä
            'ÊâøÁü•„Åó„Åæ„Åó„Åü', 'ÊâøÁü•„ÅÑ„Åü„Åó„Åæ„Åó„Åü', '‰∫ÜËß£„Åó„Åæ„Åó„Åü', '‰∫ÜËß£„Åß„Åô',
            '„Åã„Åó„Åì„Åæ„Çä„Åæ„Åó„Åü', 'Êâø„Çä„Åæ„Åó„Åü', 'Á¢∫Ë™ç„Åó„Åæ„Åó„Åü', 'ÂêåÊÑè„Åó„Åæ„Åô',
            'Ë≥õÊàê„Åß„Åô', 'Áï∞Ë≠∞„ÅÇ„Çä„Åæ„Åõ„Çì', 'Áï∞Ë≠∞„Å™„Åó', '‰∫ÜÊâø„Åó„Åæ„Åó„Åü',
            '‰∫ÜÊâø„Åó„Åæ„Åô', 'Ë®±ÂèØ„Åó„Åæ„Åô', 'ÈÄ≤„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ', 'ÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
            '„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô', '„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô', '„Åù„Çå„ÅßÁµêÊßã„Åß„Åô',
            '„Åù„ÅÆ„Çà„ÅÜ„Å´„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô', '„Åù„ÅÆÊñπÂêë„Åß', 'ÂêàÊÑè„Åó„Åæ„Åô', 'Ê±∫ÂÆö',
            'Á¢∫ÂÆö„Åß', '„Ç¥„Éº„Çµ„Ç§„É≥'
        ],
        responses: {
            casual: [
                '„ÇÑ„Å£„Åü„ÄúÔºÅ„Åò„ÇÉ„ÅÇÊó©ÈÄüÊ∫ñÂÇô„Åô„Çã„Å≠‚ú®',
                '„ÅÇ„Çä„Åå„Å®„ÄúÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÄÅÂºµ„ÇäÂàá„Å£„Å°„ÇÉ„ÅÜüí™',
                '„Ç™„ÉÉ„Ç±„ÉºÔºÅ‰ªª„Åõ„Å¶„Äú',
                '„Çè„Éº„ÅÑÔºÅÈÄ≤„ÇÅ„Å°„ÇÉ„ÅÜ„Å≠',
                '„Çµ„É≥„Ç≠„É•„ÉºÔºÅÊúüÂæÖ„Åó„Å¶„Å¶„Äú',
                '„Çä„Çá„ÅÜ„Åã„ÅÑÔºÅ„Åô„ÅêÂèñ„ÇäÊéõ„Åã„Çã„Å≠„Äú',
                '„Çè„Éº„ÅÑÔºÅ„Åù„Çå„Åò„ÇÉ„ÅÇÈÄ≤„ÇÅ„Å°„ÇÉ„ÅÜ„Å≠‚ô™',
                '‰∫ÜËß£„Åß„Éº„ÅôÔºÅ„Éê„ÉÉ„ÉÅ„É™„ÇÑ„Å£„Å°„ÇÉ„ÅÜ„Çà„Äú',
                '„Çà„Å£„Åó„ÇÉÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„ÇìÈ†ëÂºµ„Çã',
                '„Éä„Ç§„ÇπÔºÅ„Åò„ÇÉ„ÅÇË°å„Åè„Çà„Äú'
            ],
            youth: [
                '„Åï„Åô„Åå„ÄúÔºÅË©±„ÅåÊó©„Åè„Å¶Âä©„Åã„Çãüòä',
                '„Çä„Çá„Çä„Çá„ÄúÔºÅ„Åò„ÇÉ„ÅÇ„Çµ„ÇØ„ÉÉ„Å®Ë°å„Åì„Äú',
                'Ë∂ÖÁúÅÁï•ÂΩ¢ÔºÅ„Åß„ÇÇ‰ºù„Çè„Å£„Åü„ÄúÈÄ≤„ÇÅ„Çã„Å≠',
                '„Åä„Åë„Åæ„Çã„ÄúÔºÅÂÆåÁíß„Å´„Åì„Å™„Åó„Å°„ÇÉ„ÅÜ‚ú®',
                'ÊúÄÊñ∞„ÅÆËã•ËÄÖË®ÄËëâÔºÅÊääÊè°„Åó„Åü„Äú',
                '„Åì„Å°„Çâ„Åì„Åù„ÅÇ„Çä„ÄúÔºÅÈ†ëÂºµ„Çã„Å≠',
                '„ÅÇ„Åñ„Åæ„Åô„ÄúÔºÅÊ∞óÂêà„ÅÑÂÖ•„Çå„Å¶„Åè'
            ],
            business: [
                '„Åã„Åó„Åì„Åæ„Çä„Åæ„Åó„Åü„ÄúÔºÅ„Åç„Å°„Çì„Å®ÂØæÂøú„Åó„Åæ„Åô„Å≠',
                '„Å®„Å¶„ÇÇ‰∏ÅÂØßÔºÅ„Åì„Å°„Çâ„ÇÇ‰∏ÅÂØß„Å´ÈÄ≤„ÇÅ„Åæ„Åô‚ú®',
                '‰∫ÜËß£„Åß„Åô„ÄúÔºÅÁ¢∫ÂÆü„Å´Âá¶ÁêÜ„Åó„Åæ„Åô„Å≠',
                '„Éì„Ç∏„Éç„Çπ„É©„Ç§„ÇØÔºÅ„Åó„Å£„Åã„Çä„ÇÑ„Çä„Åæ„Åô',
                'Á¢∫„Åã„Å´Êâø„Çä„Åæ„Åó„Åü„ÄúÔºÅË≤¨‰ªªÊåÅ„Å£„Å¶ÈÄ≤„ÇÅ„Åæ„Åô',
                'ÂêåÊÑè„ÅÑ„Åü„Å†„Åë„Å¶Â¨â„Åó„ÅÑ„ÄúÔºÅ',
                '„Éï„Ç©„Éº„Éû„É´„ÄúÔºÅ„Åç„Å°„Çì„Å®ÂØæÂøú„Åó„Åæ„Åô'
            ]
        },
        contextResponses: {
            // ÊãÖÂΩìËÄÖ„Å∏„ÅÆÂºï„ÅçÁ∂ô„Åé„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà
            handoffContext: {
                response: '„Ç™„ÉÉ„Ç±„ÉºÔºÅÊãÖÂΩì„ÅÆ‰∫∫Âëº„Å∂„Å≠„Äúüìû\n\n30ÂàÜ‰ª•ÂÜÖ„Å´ÈÄ£Áµ°„Åè„Çã„Åã„ÇâÂæÖ„Å£„Å¶„Å¶üíï',
                action: 'handoff'
            },
            // Ë¶ãÁ©ç„ÇÇ„Çä‰ΩúÊàê„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà
            quoteContext: {
                response: '„Çä„Çá„Éº„Åã„ÅÑÔºÅË¶ãÁ©ç„ÇÇ„Çä‰Ωú„Çã„Å≠„Äú‚ú®\n\n„Å°„Çá„Å£„Å®ÂæÖ„Å£„Å¶„Å¶ÔºÅ',
                action: 'createQuote'
            },
            // „Éá„Ç∂„Ç§„É≥‰æùÈ†º„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà
            designContext: {
                response: '„Éá„Ç∂„Ç§„É≥„Åä‰ªª„Åõ„Å†„Å≠ÔºÅ„ÅÑ„ÅÑ„Çà„Äúüíï\n\n„Ç§„É°„Éº„Ç∏„Å®„ÅãÂ∏åÊúõ„ÅÇ„ÇãÔºü',
                quickReplies: ['„Ç∑„É≥„Éó„É´Á≥ª', '„Åã„Çè„ÅÑ„ÅÑÁ≥ª', '„Åã„Å£„Åì„ÅÑ„ÅÑÁ≥ª', 'ÂÆåÂÖ®„Åä‰ªª„Åõ']
            }
        }
    },
    
    // Âê¶ÂÆö„ÉªÊãíÂê¶„ÅÆ„Éë„Çø„Éº„É≥
    disagreements: {
        patterns: [
            '„ÅÑ„ÇÑ', '„ÅÑ„ÅÑ„Åà', '„Å°„Åå„ÅÜ', 'ÈÅï„ÅÜ', '„Å†„ÇÅ', '„ÉÄ„É°',
            '„ÇÑ„ÇÅ„Çã', '„ÅÑ„Çâ„Å™„ÅÑ', '„Å™„Åó', '„Ç≠„É£„É≥„Çª„É´', 'ÁµêÊßã„Åß„Åô'
        ],
        contextResponses: {
            handoffContext: {
                response: '„Åù„Å£„Åã„ÄúÔºÅ„Åò„ÇÉ„ÅÇ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åå„ÇÇ„ÅÜ„Å°„Çá„Å£„Å®Ë©≥„Åó„ÅèËÅû„Åè„Å≠üíï\n\n‰Ωï„ÅåÊ∞ó„Å´„Å™„Å£„Å¶„ÇãÔºü',
                quickReplies: ['‰æ°Ê†º„ÇíË©≥„Åó„Åè', 'Á¥çÊúü„Å´„Å§„ÅÑ„Å¶', '„Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á', '„ÇÇ„ÅÜÂ∞ë„ÅóËÄÉ„Åà„Çã']
            }
        }
    },
    
    // Ë≥™Âïè„Å∏„ÅÆÂõûÁ≠î„Éë„Çø„Éº„É≥
    answers: {
        // Êï∞Èáè„ÅÆÂõûÁ≠î
        quantity: {
            patterns: {
                '100': { min: 100, max: 100 },
                '500': { min: 500, max: 500 },
                '1000': { min: 1000, max: 1000 },
                'ÂçÉ': { min: 1000, max: 1000 },
                '‰∏á': { min: 10000, max: 10000 },
                'Â∞ë„Åó': { min: 100, max: 500 },
                '„Åü„Åè„Åï„Çì': { min: 1000, max: 10000 },
                'Â§ßÈáè': { min: 10000, max: null }
            }
        },
        
        // ÊúüÈñì„ÅÆÂõûÁ≠î
        timeline: {
            patterns: {
                '‰ªäÊó•': { days: 0, urgent: true },
                'ÊòéÊó•': { days: 1, urgent: true },
                'ÊòéÂæåÊó•': { days: 2, urgent: true },
                '‰ªäÈÄ±': { days: 7, urgent: false },
                'Êù•ÈÄ±': { days: 14, urgent: false },
                '‰ªäÊúà': { days: 30, urgent: false },
                'ÊÄ•„Åé': { days: 3, urgent: true },
                '„ÇÜ„Å£„Åè„Çä': { days: 30, urgent: false }
            }
        }
    },
    
    // ‰ºöË©±„ÅÆÊñáËÑà„Å´„Çà„ÇãÂøúÁ≠î„Éû„ÉÉ„Éî„É≥„Ç∞
    contextualResponses: [
        {
            // ÊãÖÂΩìËÄÖ„Å´Áπã„Åê„ÅãËÅû„ÅÑ„ÅüÂæå„ÅÆ„Äå„ÅäÈ°ò„ÅÑ„Äç
            lastBotPattern: /ÊãÖÂΩì.*Áπã|‰∫∫.*Âëº|„Éó„É≠.*Áõ∏Ë´á/,
            userPattern: /„ÅäÈ°ò„ÅÑ|„ÅØ„ÅÑ|„ÅÜ„Çì|È†º„ÇÄ/,
            response: {
                text: '„Ç™„ÉÉ„Ç±„ÉºÔºÅÊãÖÂΩì„ÅÆ‰∫∫Âëº„Å∂„Å≠„Äúüìû\n\n30ÂàÜ‰ª•ÂÜÖ„Å´ÈÄ£Áµ°„Åè„Çã„Åã„ÇâÂæÖ„Å£„Å¶„Å¶üíï',
                action: 'handoff'
            }
        },
        {
            // Ë¶ãÁ©ç„ÇÇ„Çä„Çí‰Ωú„Çã„ÅãËÅû„ÅÑ„ÅüÂæå„ÅÆ„Äå„ÅäÈ°ò„ÅÑ„Äç
            lastBotPattern: /Ë¶ãÁ©ç.*‰Ωú|Ê¶ÇÁÆó.*Âá∫|ÈáëÈ°ç.*Ë®àÁÆó/,
            userPattern: /„ÅäÈ°ò„ÅÑ|„ÅØ„ÅÑ|„ÅÜ„Çì|‰Ωú„Å£„Å¶/,
            response: {
                text: '„Çä„Çá„Éº„Åã„ÅÑÔºÅ„Å°„Çá„Å£„Å®Ë®àÁÆó„Åô„Çã„Å≠„ÄúüßÆ',
                action: 'calculateQuote'
            }
        },
        {
            // „Éá„Ç∂„Ç§„É≥„Çí‰ªª„Åõ„Çã„ÅãËÅû„ÅÑ„ÅüÂæå„ÅÆ„Äå„ÅäÈ°ò„ÅÑ„Äç
            lastBotPattern: /„Éá„Ç∂„Ç§„É≥.*‰ªª„Åõ|„Éá„Ç∂„Ç§„É≥.*„ÅäÈ°ò„ÅÑ/,
            userPattern: /„ÅäÈ°ò„ÅÑ|‰ªª„Åõ„Çã|„Åä„Åæ„Åã„Åõ/,
            response: {
                text: '„Éá„Ç∂„Ç§„É≥„Åä‰ªª„Åõ„Å†„Å≠ÔºÅ„Çª„É≥„Çπ„ÅÑ„ÅÑ„ÅÆ‰Ωú„Çã„Çà„Äú‚ú®\n\n„Ç§„É°„Éº„Ç∏„ÅÇ„ÇãÔºü',
                quickReplies: ['„Ç∑„É≥„Éó„É´', '„Éù„ÉÉ„Éó', '„Ç®„É¨„Ç¨„É≥„Éà', 'ÂÆåÂÖ®„Åä‰ªª„Åõ']
            }
        },
        {
            // „Çµ„É≥„Éó„É´„ÇíË¶ã„Åõ„Çã„ÅãËÅû„ÅÑ„ÅüÂæå„ÅÆ„Äå„ÅäÈ°ò„ÅÑ„Äç
            lastBotPattern: /„Çµ„É≥„Éó„É´.*Ë¶ã|‰æã.*Ë¶ã|ÂÆü‰æã.*Á¢∫Ë™ç/,
            userPattern: /„ÅäÈ°ò„ÅÑ|Ë¶ã„Åü„ÅÑ|„Åø„Åü„ÅÑ/,
            response: {
                text: '„Çµ„É≥„Éó„É´Ë¶ã„Åü„ÅÑ„ÅÆ„Å≠ÔºÅ„Åì„Çì„Å™ÊÑü„Åò„ÅÆ„Åå„ÅÇ„Çã„Çà„Äúüì∏\n\n[„Çµ„É≥„Éó„É´ÁîªÂÉè]\n\n„Å©„Çå„Åå„Ç§„É°„Éº„Ç∏„Å´Ëøë„ÅÑÔºü',
                quickReplies: ['1Áï™ÁõÆ', '2Áï™ÁõÆ', '3Áï™ÁõÆ', '„ÇÇ„Å£„Å®Ë¶ã„Çã']
            }
        }
    ],
    
    // ÊÑüÊÉÖ„ÉªÈõ∞Âõ≤Ê∞ó„ÅÆÊ§úÂá∫
    emotions: {
        positive: {
            patterns: ['Â¨â„Åó„ÅÑ', '„ÅÇ„Çä„Åå„Å®„ÅÜ', 'Âä©„Åã„Çã', '„ÅÑ„ÅÑ„Å≠', 'Á¥†Êïµ', 'ÊúÄÈ´ò'],
            response: '„Åà„Å∏„Å∏„ÄúÂ¨â„Åó„ÅÑÔºÅüíï „Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÇÇ„Å£„Å®È†ëÂºµ„Å£„Å°„ÇÉ„ÅÜ‚ú®'
        },
        negative: {
            patterns: ['Âõ∞„Å£„Åü', 'Èõ£„Åó„ÅÑ', 'ÂàÜ„Åã„Çâ„Å™„ÅÑ', '‰∏çÂÆâ', 'ÂøÉÈÖç'],
            response: '„Åù„Å£„Åã„ÄúÂøÉÈÖç„Å™„Çì„Å†„Å≠üí¶ Â§ß‰∏àÂ§´ÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åå‰∏ÄÁ∑í„Å´ËÄÉ„Åà„Çã„Çàüíï'
        },
        frustrated: {
            patterns: ['„ÇÇ„ÅÜ„ÅÑ„ÅÑ', '„ÅÑ„Çâ„Å™„ÅÑ', '„ÇÑ„ÇÅ„Åü', '„Å§„Åæ„Çâ„Å™„ÅÑ'],
            response: '„Åî„ÇÅ„Çì„Å≠„ÄúÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÅÆË™¨Êòé„Çè„Åã„Çä„Å´„Åè„Åã„Å£„ÅüÔºüüò¢\n\nÊãÖÂΩì„ÅÆ‰∫∫„Å´‰ª£„Çè„Çç„ÅÜ„ÅãÔºü'
        }
    },
    
    // „Çà„Åè„ÅÇ„Çã‰ºöË©±„ÅÆÊµÅ„Çå
    commonFlows: {
        // ÂêçÂà∫Ê≥®Êñá„ÅÆÂÖ∏ÂûãÁöÑ„Å™ÊµÅ„Çå
        businessCardFlow: [
            { user: 'ÂêçÂà∫‰Ωú„Çä„Åü„ÅÑ', bot: 'ÂêçÂà∫„Å≠ÔºÅ‰ΩïÊûö„Åè„Çâ„ÅÑÔºü' },
            { user: '100Êûö', bot: '100Êûö„Å≠ÔºÅ„Éá„Ç∂„Ç§„É≥„Å©„ÅÜ„Åô„ÇãÔºü' },
            { user: '„Ç∑„É≥„Éó„É´„Åß', bot: '„Ç∑„É≥„Éó„É´„Åß„ÅÑ„Åè„Å≠ÔºÅ‰ºöÁ§æ„ÅÆ„É≠„Ç¥„ÅÇ„ÇãÔºü' },
            { user: '„ÅÇ„Çã', bot: '„Åò„ÇÉ„ÅÇ„É≠„Ç¥ÂÖ•„Çå„Å¶‰Ωú„Çã„Å≠ÔºÅ„Éá„Éº„ÇøÈÄÅ„Å£„Å¶„ÇÇ„Çâ„Åà„ÇãÔºü' }
        ],
        
        // WebÂà∂‰Ωú„ÅÆÂÖ∏ÂûãÁöÑ„Å™ÊµÅ„Çå
        websiteFlow: [
            { user: '„Éõ„Éº„É†„Éö„Éº„Ç∏‰Ωú„Çä„Åü„ÅÑ', bot: 'Web„Çµ„Ç§„ÉàÂà∂‰Ωú„Å≠ÔºÅ„Å©„Çì„Å™„Çµ„Ç§„ÉàÔºü' },
            { user: '‰ºöÁ§æ„ÅÆ„Çµ„Ç§„Éà', bot: '‰ºÅÊ•≠„Çµ„Ç§„Éà„Å≠ÔºÅ„Éö„Éº„Ç∏Êï∞„Å©„ÅÆ„Åè„Çâ„ÅÑÔºü' },
            { user: '10„Éö„Éº„Ç∏„Åè„Çâ„ÅÑ', bot: '10„Éö„Éº„Ç∏„Å≠ÔºÅ„Éá„Ç∂„Ç§„É≥„ÅÆ„Ç§„É°„Éº„Ç∏„ÅÇ„ÇãÔºü' },
            { user: '„Ç∑„É≥„Éó„É´„ÅßË¶ã„ÇÑ„Åô„Åè', bot: '„Ç∑„É≥„Éó„É´„ÅßË¶ã„ÇÑ„Åô„ÅèÔºÅ„ÅÑ„ÅÑ„Å≠„Äú‚ú® „Çπ„Éû„ÉõÂØæÂøú„ÇÇÂøÖË¶ÅÔºü' }
        ]
    },
    
    // Ê•≠ÁïåÁâπÊúâ„ÅÆË®Ä„ÅÑÂõû„ÅóÔºàÊã°ÂºµÁâàÔºâ
    industryTerms: {
        'ÂÖ•Á®ø': '„Éá„Éº„ÇøÂÖ•Á®ø„ÅÆ„Åì„Å®„Å≠ÔºÅÂç∞Âà∑Áî®„ÅÆ„Éá„Éº„Çø„ÇíÈÄÅ„Å£„Å¶„ÇÇ„Çâ„ÅÜ„Åì„Å®„Äú',
        'Ê†°Ê≠£': 'Âç∞Âà∑Ââç„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„ÅÆ„Åì„Å®„Å†„Çà„ÄúÔºÅÈñìÈÅï„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã‰ΩúÊ•≠',
        'Ëâ≤Ê†°': 'Ëâ≤„ÅÆÁ¢∫Ë™ç„Åô„ÇãÊ†°Ê≠£„ÅÆ„Åì„Å®ÔºÅÊú¨Áï™Ââç„Å´Ëâ≤Âë≥„ÉÅ„Çß„ÉÉ„ÇØ',
        '„Éà„É≥„Éú': 'Âç∞Âà∑„ÅÆ‰ΩçÁΩÆÂêà„Çè„Åõ„Éû„Éº„ÇØ„ÅÆ„Åì„Å®„Å†„ÇàÔºÅÂçÅÂ≠ó„ÅÆ„Éû„Éº„ÇØ',
        'Â°ó„ÇäË∂≥„Åó': 'Êñ≠Ë£Å„ÅÆ‰ΩôÁôΩÈÉ®ÂàÜ„ÅÆ„Åì„Å®ÔºÅ3mm„ÅØÂøÖË¶Å„Äú',
        'CMYK': 'Âç∞Âà∑„ÅÆÂü∫Êú¨4Ëâ≤ÔºÅ„Ç∑„Ç¢„É≥„Éª„Éû„Çº„É≥„Çø„Éª„Ç§„Ç®„É≠„Éº„Éª„Éñ„É©„ÉÉ„ÇØ',
        'Ëß£ÂÉèÂ∫¶': 'ÁîªÂÉè„ÅÆ„Åç„ÇÅÁ¥∞„Åã„ÅïÔºÅÂç∞Âà∑„ÅØ300dpi‰ª•‰∏äÂøÖË¶Å„Äú',
        'PPÂä†Â∑•': '„Éù„É™„Éó„É≠„Éî„É¨„É≥„Éï„Ç£„É´„É†„ÇíË≤º„ÇãÂä†Â∑•ÔºÅ„ÉÑ„É´„ÉÑ„É´„Å´„Å™„Çã„Çà',
        'ÁÆîÊäº„Åó': 'ÈáëÁÆî„ÉªÈäÄÁÆî„Çí„Éö„Çø„ÉÉ„Å®Êäº„ÅôÈ´òÁ¥öÂä†Â∑•‚ú®',
        '„Ç®„É≥„Éú„Çπ': 'Á¥ô„Çí„Å∑„Å£„Åè„ÇäÊµÆ„Åç‰∏ä„Åå„Çâ„Åõ„ÇãÂä†Â∑•ÔºÅ',
        '„Ç™„Éï„Çª„ÉÉ„ÉàÂç∞Âà∑': 'Â§ßÈáèÂç∞Âà∑„ÅÆÁéãÊßòÔºÅÁâà„Çí‰Ωú„Å£„Å¶Âç∞Âà∑„Åô„ÇãÊñπÂºè',
        '„Ç™„É≥„Éá„Éû„É≥„ÉâÂç∞Âà∑': 'ÂøÖË¶Å„Å™ÂàÜ„Å†„Åë„Çµ„ÇØ„ÉÉ„Å®Âç∞Âà∑ÔºÅ„Éá„Ç∏„Çø„É´Âç∞Âà∑',
        '‰∏≠Á∂¥„Åò': 'Áúü„Çì‰∏≠„Çí„Éõ„ÉÅ„Ç≠„Çπ„ÅßÁïô„ÇÅ„ÇãË£ΩÊú¨ÔºÅ„Éë„É≥„Éï„Å´„Çà„Åè„ÅÇ„Çã',
        'ÁÑ°Á∑öÁ∂¥„Åò': 'ËÉåË°®Á¥ô„ÇíÁ≥ä„ÅßÂõ∫„ÇÅ„ÇãË£ΩÊú¨ÔºÅÊú¨„Åø„Åü„ÅÑ„Å´„Å™„Çã',
        '„Ç≥„Éº„ÉàÁ¥ô': '„ÉÑ„É´„ÉÑ„É´„ÅÆÁ¥ôÔºÅÂÜôÁúü„Åå„Ç≠„É¨„Ç§„Å´Âá∫„Çã',
        '„Éû„ÉÉ„ÉàÁ¥ô': '„Åï„Çâ„Åï„Çâ„ÅÆÁ¥ôÔºÅ‰∏äÂìÅ„Å™‰ªï‰∏ä„Åå„Çä',
        '‰∏äË≥™Á¥ô': '„Ç≥„Éî„ÉºÁî®Á¥ô„Åø„Åü„ÅÑ„Å™Á¥ôÔºÅÊõ∏„ÅçËæº„Åø„Åß„Åç„Çã'
    },
    
    // Âç∞Âà∑Èñ¢ÈÄ£„ÅÆË©≥Á¥∞„Å™Ë™¨Êòé„Éë„Çø„Éº„É≥
    printingExplanations: {
        services: {
            businessCard: {
                basic: 'ÂêçÂà∫Âç∞Âà∑„Å≠ÔºÅ‰ΩïÊûö„Åè„Çâ„ÅÑ‰Ωú„Çã‰∫àÂÆö„ÄúÔºü',
                creative: '„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„ÉñÔºÅ„ÅÑ„ÅÑ„Å≠„Äú‚ú® Â§âÂΩ¢„Ç´„ÉÉ„ÉàÔºüÁâπÊÆäÁ¥ôÔºüÁÆîÊäº„ÅóÔºü„Å©„Çì„Å™„ÅÆ„Ç§„É°„Éº„Ç∏„Åó„Å¶„ÇãÔºü',
                bulk: '50‰∫∫ÂàÜÔºÅÂ§ßÈáèÊ≥®Êñá„ÅÇ„Çä„Åå„Å®„Äú‚ú® ÂÖ®Âì°Âêå„Åò„Éá„Ç∂„Ç§„É≥Ôºü„Åù„Çå„Å®„ÇÇÂÄãÂà•Ôºü',
                options: {
                    transparent: 'ÈÄèÊòéÂêçÂà∫„Åä„Åó„ÇÉ„Çå„ÄúÔºÅ„Éó„É©„Çπ„ÉÅ„ÉÉ„ÇØ„Ç´„Éº„Éâ„Å´„Å™„Çã„Åë„Å©„ÄÅ1Êûö150ÂÜÜ„Åè„Çâ„ÅÑ„ÄÇ„Éá„Ç∂„Ç§„É≥Ê¨°Á¨¨„ÅßË∂Ö„Åã„Å£„Åì„Çà„Åè„Å™„Çã„Çà',
                    square: '„Çπ„ÇØ„Ç®„Ç¢ÂêçÂà∫ÔºÅÂÄãÊÄßÁöÑ„Äú„ÄÇÈÄöÂ∏∏„Çµ„Ç§„Ç∫„Çà„ÇäÂ∞ë„ÅóÈ´ò„Åè„Å™„Çã„Åë„Å©„ÄÅÂç∞Ë±°„Å´ÊÆã„Çã„Åì„Å®ÈñìÈÅï„ÅÑ„Å™„Åó‚ú®',
                    folded: '‰∫å„Å§Êäò„ÇäÂêçÂà∫ÔºÅÊÉÖÂ†±„Åü„Åè„Åï„ÇìËºâ„Åõ„Çâ„Çå„Çã„Å≠„ÄÇË¶≥Èü≥Èñã„Åç„Å®„Åã„ÇÇ„Åß„Åç„Çã„Çà„Äú'
                }
            },
            flyer: {
                purpose: {
                    posting: '„Éù„Çπ„ÉÜ„Ç£„É≥„Ç∞ÔºÅËñÑ„ÇÅ„ÅÆÁ¥ô„Åß„Ç≥„Çπ„ÉàÊäë„Åà„ÇãÔºü„Åù„Çå„Å®„ÇÇÂéö„ÇÅ„ÅßÈ´òÁ¥öÊÑüÔºü',
                    handout: 'ÊâãÊ∏°„Åó„Å™„ÇâA5„ÅãB5„Åå„Å°„Çá„ÅÜ„Å©„ÅÑ„ÅÑÔºÅ„Ç´„Éê„É≥„Å´ÂÖ•„Çå„ÇÑ„Åô„ÅÑ„Åó',
                    newspaper: 'Êñ∞ËÅûÊäòËæº„Å™„ÇâB4„ÅåÂÆöÁï™„ÄúÔºÅB3„ÅÆÂçäÂàÜ„Çµ„Ç§„Ç∫„Å†„Åã„ÇâÊäò„ÇäËæº„Åø„ÇÑ„Åô„ÅÑ',
                    store: 'Â∫óÈ†≠„Å™„Çâ‰∏â„Å§Êäò„ÇäA4„Åå„Åä„Åô„Åô„ÇÅÔºÅ„É©„ÉÉ„ÇØ„Å´ÂÖ•„Çå„ÇÑ„Åô„ÅÑ„Çà'
                },
                paper: {
                    cheap: '„Ç≥„Éº„ÉàÁ¥ô70kg„Åå„Åä„Åô„Åô„ÇÅ„ÄúÔºÅ1‰∏áÊûö„Åß3‰∏áÂÜÜ„Åè„Çâ„ÅÑ',
                    premium: '„Éû„ÉÉ„ÉàÁ¥ô110kg„Å®„Åã„Å©„ÅÜÔºüÊâãËß¶„Çä„ÇÇËâØ„Åè„Å¶Êç®„Å¶„Çâ„Çå„Å´„Åè„ÅÑ„Çà',
                    waterproof: 'PPÂä†Â∑•„Åã„É©„Éü„Éç„Éº„ÉàÔºÅÈõ®„ÅÆÊó•„ÇÇÂÆâÂøÉ„Äú'
                }
            },
            poster: {
                indoor: 'Â±ãÂÜÖÁü≠Êúü„Å™„Çâ„Ç≥„Éº„ÉàÁ¥ô„ÅßÂçÅÂàÜÔºÅÂÆâ„Åè„Å¶„Ç≠„É¨„Ç§‚ú®',
                outdoor: 'Â±ãÂ§ñ„Å™„ÇâËÄêÊ∞¥Á¥ô„Åã„É¶„ÉùÁ¥ôÔºÅÈõ®„Åß„ÇÇÂ§ß‰∏àÂ§´„Äú',
                oneday: '1Êó•„Å™„Çâ‰∏ÄÁï™ÂÆâ„ÅÑÁ¥ô„ÅßOKÔºÅ„Åù„ÅÆÂàÜÊûöÊï∞Â¢ó„ÇÑ„Åõ„Çã„Çà'
            },
            catalog: {
                pages: {
                    few: '20ÂïÜÂìÅ„Å™„Çâ8„Éö„Éº„Ç∏„Åã12„Éö„Éº„Ç∏„Åã„Å™„Äú„ÄÇ1ÂïÜÂìÅ„ÅÆÊÉÖÂ†±ÈáèÊ¨°Á¨¨ÔºÅ',
                    many: '100‰ª•‰∏äÔºÅ„Åù„Çå„Å™„Çâ24„Éö„Éº„Ç∏‰ª•‰∏ä„ÅØÂøÖË¶Å„Åã„ÇÇ„ÄÇ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„Å§„Åë„ÇãÔºü',
                    undecided: '„Å®„Çä„ÅÇ„Åà„Åö16„Éö„Éº„Ç∏„ÅßË¶ãÁ©ç„ÇÇ„ÇãÔºüÂæå„Åã„ÇâË™øÊï¥„Åß„Åç„Çã„Çà„Äú'
                }
            }
        }
    },
    
    // „Ç®„É©„ÉºÂõûÂæ©„ÅÆÊã°Âºµ„Éë„Çø„Éº„É≥
    errorRecovery: {
        notUnderstood: [
            '„Åî„ÇÅ„Çì„ÄÅ„ÇÇ„ÅÜ„Å°„Çá„Å£„Å®Ë©≥„Åó„ÅèÊïô„Åà„Å¶ÔºüÂç∞Âà∑Áâ©„ÅÆË©±Ôºü',
            '„Åù„Çå„Å£„Å¶Âç∞Âà∑Èñ¢ÈÄ£Ôºü„Åù„Çå„Å®„ÇÇÂà•„ÅÆË©±Ôºü',
            '„Çì„Éº„ÄÅ‰æã„Åà„Å∞„Å©„Çì„Å™ÊÑü„ÅòÔºüÂêçÂà∫„Å®„Åã„ÉÅ„É©„Ç∑„Å®„ÅãÔºü',
            '„Å°„Çá„Å£„Å®Èõ£„Åó„ÅÑ„Åë„Å©...„Åì„ÅÜ„ÅÑ„ÅÜ„Åì„Å®„Åã„Å™Ôºü\n\n‚òëÔ∏è Âç∞Âà∑Áâ©„ÅÆÊ≥®Êñá\n‚òëÔ∏è „Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á\n‚òëÔ∏è ÊñôÈáë„ÅÆÁ¢∫Ë™ç\n‚òëÔ∏è „Åù„ÅÆ‰ªñ',
            '„Åî„ÇÅ„Çì„Å≠„Äúüí¶ „ÇÇ„Åó„Åã„Åó„Å¶\n\n„ÉªÂêçÂà∫‰Ωú„Çä„Åü„ÅÑÔºü\n„Éª„ÉÅ„É©„Ç∑„ÅÆÁõ∏Ë´áÔºü\n„Éª„Éë„É≥„Éï„É¨„ÉÉ„Éà„ÅÆË¶ãÁ©ç„ÇÇ„ÇäÔºü\n\n„Å©„Çå„ÅãËøë„ÅÑÔºü',
            '„Çì„Äú„ÄÅ„Å°„Çá„Å£„Å®ÂàÜ„Åã„Çâ„Å™„Åã„Å£„ÅüüòÖ\n\n„Åì„Çì„Å™„Åì„Å®„Åß„Åç„Çã„ÇàÔºÅ\n„ÉªÂç∞Âà∑Áâ©ÂÖ®Ëà¨„ÅÆÁõ∏Ë´á\n„Éª‰æ°Ê†ºË¶ãÁ©ç„ÇÇ„Çä\n„Éª„Éá„Ç∂„Ç§„É≥„Ç¢„Éâ„Éê„Ç§„Çπ\n\n‰Ωï„Åã‰Ωú„Çä„Åü„ÅÑ„ÇÇ„ÅÆ„ÅÇ„ÇãÔºü',
            '„Åù„Çå„ÅØÂàùËÄ≥„ÄúÔºÅüëÇ\n\n„ÇÇ„Åó„Åã„Åó„Å¶„ÄÅ„Åì„Çì„Å™ÊÑü„Åò„ÅÆ„Åì„Å®Ôºü\n‚óè ÁâπÊÆä„Å™Âç∞Âà∑ÊñπÊ≥ï\n‚óè Áèç„Åó„ÅÑÁ¥†Êùê\n‚óè Êñ∞„Åó„ÅÑ„Çµ„Éº„Éì„Çπ\n\nË©≥„Åó„ÅèÊïô„Åà„Å¶„ÇÇ„Çâ„Åà„ÇãÔºü',
            '„ÅÇ„Å£„ÄÅ„Åî„ÇÅ„ÇìÔºÅÂãâÂº∑‰∏çË∂≥„Åã„ÇÇüìö\n\n„ÇÇ„Åó„Çà„Åã„Å£„Åü„Çâ„ÄÅ\n„ÄêÂç∞Âà∑Áâ©„Çí‰Ωú„Çã„Äë\n„ÄêÊñôÈáë„ÇíÁü•„Çã„Äë\n„Äê„Çµ„É≥„Éó„É´„ÇíË¶ã„Çã„Äë\n„ÄêÊãÖÂΩìËÄÖ„Å®Ë©±„Åô„Äë\n\n„Å©„Çå„ÅãÈÅ∏„Çì„Åß„Åø„Å¶Ôºü'
        ],
        clarification: [
            '„Åù„Çå„Å£„Å¶„Å§„Åæ„Çä„Äá„Äá„Å£„Å¶„Åì„Å®Ôºü',
            '„ÇÇ„Åó„Åã„Åó„Å¶„Äá„Äá„ÅÆË©±„Åó„Å¶„ÇãÔºü',
            '„Äá„Äá„Åã‚ñ≥‚ñ≥„ÄÅ„Å©„Å£„Å°„ÅÆ„Åì„Å®Ë®Ä„Å£„Å¶„ÇãÔºü',
            '„Å°„Çá„Å£„Å®Á¢∫Ë™çÔºÅ„Äá„Äá„ÅßÂêà„Å£„Å¶„ÇãÔºü',
            '„Åà„Å£„Å®„ÄÅ„Äá„Äá„Åó„Åü„ÅÑ„Å£„Å¶„Åì„Å®„Åã„Å™Ôºü',
            '„Å§„Åæ„Çä„Äá„Äá„ÅåÊ¨≤„Åó„ÅÑ„ÅÆÔºü',
            '„Äá„Äá„ÅÆ„Åì„Å®„Å†„Çà„Å≠ÔºüÈÅï„ÅÜÔºü',
            '„ÅÇ„Éº„ÄÅ„Äá„Äá„Å≠ÔºÅ...„Å£„Å¶Âêà„Å£„Å¶„ÇãÔºü'
        ]
    },
    
    // ÊñôÈáë„ÉªË¶ãÁ©ç„ÇÇ„ÇäÈñ¢ÈÄ£
    pricing: {
        budget: {
            under10k: {
                prompt: '1‰∏áÂÜÜ„Å™„ÇâÁµêÊßã„Åß„Åç„Çã„Çà„ÄúÔºÅÂêçÂà∫„Å™„Çâ2000Êûö„ÄÅ„ÉÅ„É©„Ç∑„Å™„Çâ1000Êûö„Åè„Çâ„ÅÑÔºÅ',
                options: {
                    businessCard: 'ÂêçÂà∫2000Êûö„Åô„Åî„Åè„Å™„ÅÑÔºüÂú®Â∫´„Åü„Å£„Å∑„Çä„Äú„ÄÇ„Éá„Ç∂„Ç§„É≥„ÅØÊåÅ„Å°Ëæº„ÅøÔºü',
                    flyer: 'A4ÁâáÈù¢„Å™„Çâ1000Êûö„ÅÑ„Åë„ÇãÔºÅ‰∏°Èù¢„Å†„Å®500Êûö„Åã„Å™„Äú',
                    other: '„Éù„Çπ„Éà„Ç´„Éº„Éâ2000Êûö„Å®„Åã„ÄÅ„Ç∑„Éº„É´500Êûö„Å®„ÅãÔºÅ'
                }
            },
            under30k: {
                prompt: '3‰∏áÂÜÜ„ÅÇ„Çå„Å∞ÈÅ∏„Å≥ÊîæÈ°å„ÄúÔºÅ„Éë„É≥„Éï„É¨„ÉÉ„ÉàÔºü„Éù„Çπ„Çø„ÉºÔºü‰Ωï‰Ωú„ÇãÔºü',
                options: {
                    pamphlet: '‰∏â„Å§Êäò„Çä„Éë„É≥„Éï3000ÈÉ®„Åè„Çâ„ÅÑ‰Ωú„Çå„ÇãÔºÅ„Éá„Ç∂„Ç§„É≥„ÇÇËæº„Åø„Åß',
                    set: 'ÂêçÂà∫„Å®„ÉÅ„É©„Ç∑„Å®„Éù„Çπ„Çø„Éº„ÅÆ„Çª„ÉÉ„Éà‰Ωú„Çå„Çã„ÇàÔºÅ„ÅäÂ∫óÈñãÊ•≠„Çª„ÉÉ„Éà„Åø„Åü„ÅÑ„Å™',
                    premium: 'ÁÆîÊäº„ÅóÂêçÂà∫500ÊûöÔºÅË∂ÖÈ´òÁ¥ö„Äú‚ú®'
                }
            }
        },
        negotiation: {
            discount: [
                '„ÅÜ„Äú„Çìüí¶ ÈáèÂ¢ó„ÇÑ„Åô„Å®Âçò‰æ°‰∏ã„Åå„Çã„Åë„Å©„Å©„ÅÜÔºü',
                'ÂàùÂõûÂâ≤Âºï‰Ωø„ÅÜÔºü20ÔºÖOFF„Å´„Å™„Çã„Çà„Äú',
                'Á¥çÊúü„Å´‰ΩôË£ï„ÅÇ„Çã„Å™„Çâ„ÄÅÈÄöÂ∏∏Á¥çÊúü„ÅßÂÆâ„Åè„Åß„Åç„ÇãÔºÅ',
                'Á¥ô„ÅÆ„Ç∞„É¨„Éº„Éâ‰∏ã„Åí„Çå„Å∞ÂÆâ„Åè„Å™„Çã„Åë„Å©...',
                '„Éá„Ç∂„Ç§„É≥ÊåÅ„Å°Ëæº„Åø„Å™„Çâ„ÄÅ„Éá„Ç∂„Ç§„É≥ÊñôÂàÜÂÆâ„Åè„Å™„Çã„Çà'
            ],
            overBudget: [
                '‰∫àÁÆóÂÜÖ„Å´Âèé„ÇÅ„ÇãÊñπÊ≥ïËÄÉ„Åà„Çà„ÄúÔºÅ‰Ωï„ÅåÂâä„Çå„ÇãÔºü',
                'ÂàÜÂâ≤„ÅßÊ≥®Êñá„Åô„ÇãÔºü‰ªäÊúàÂçäÂàÜ„ÄÅÊù•ÊúàÂçäÂàÜ„Å®„Åã',
                'Âà•„ÅÆÊñπÊ≥ï„ÇÇ„ÅÇ„Çã„ÇàÔºÅ„Åì„Å£„Å°„Å™„Çâ‰∫àÁÆóÂÜÖ„Äú'
            ]
        }
    },
    
    // Á∑†„ÇÅ„ÅÆÊå®Êã∂„Éë„Çø„Éº„É≥
    closingMessages: {
        normal: [
            '‰ªäÊó•„ÇÇ„ÅÇ„Çä„Åå„Å®„ÄúÔºÅ„Åæ„ÅüÊù•„Å¶„Å≠‚ú®',
            '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„Çà„Åã„Å£„ÅüÔºü„Åæ„ÅüÁõ∏Ë´á„Åó„Å¶„Äú',
            'Ê•Ω„Åó„Åã„Å£„Åü„ÄúÔºÅÊ¨°„ÇÇÊ•Ω„Åó„Åø„Å´„Åó„Å¶„Çã',
            'Âç∞Âà∑„ÅÆ„Åì„Å®„Å™„Çâ„ÅÑ„Å§„Åß„ÇÇËÅû„ÅÑ„Å¶„Äú',
            '„Åæ„Åü„Å≠„ÄúÔºÅËâØ„ÅÑ‰∏ÄÊó•„Çí‚ú®',
            '„ÅäÁñ≤„Çå„Åï„Åæ„ÄúÔºÅÂç∞Âà∑È†ëÂºµ„Å£„Å¶‰Ωú„Çã„Å≠',
            'Áõ∏Ë´á„ÅÇ„Çä„Åå„Å®ÔºÅÊúüÂæÖ„Åó„Å¶„Å¶„Äú',
            '„Åò„ÇÉ„ÅÇ„Å≠„ÄúÔºÅÂÆåÊàê„ÇíÊ•Ω„Åó„Åø„Å´ÂæÖ„Å£„Å¶„Å¶',
            '„Åæ„Åü„ÅÑ„Å§„Åß„ÇÇ„ÄúÔºÅ24ÊôÇÈñì„ÅÑ„Çã„Åã„Çâ',
            '„Å∞„ÅÑ„Å∞„Äú„ÅÑÔºÅÂç∞Âà∑„ÅÆ„Åì„Å®„Å™„Çâ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å´'
        ],
        encouraging: [
            'È†ëÂºµ„Å£„Å¶„ÄúÔºÅÂøúÊè¥„Åó„Å¶„Çã‚ú®',
            'ÊàêÂäüÁ•à„Å£„Å¶„Çã„ÄúÔºÅ„ÅÑ„ÅÑÁµêÊûú„Å´„Å™„Çã„Å®„ÅÑ„ÅÑ„Å≠',
            '„Éï„Ç°„Ç§„Éà„ÄúÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÇÇÂøúÊè¥„Åó„Å¶„Çã',
            'Áµ∂ÂØæ„ÅÜ„Åæ„Åè„ÅÑ„ÅèÔºÅ„Éù„Ç∏„ÉÜ„Ç£„Éñ„Å´Ë°å„Åì„Äú',
            'Â§ß‰∏àÂ§´„ÄÅ„Åç„Å£„Å®ÊàêÂäü„Åô„Çã„Çà‚ú®'
        ]
    }
};

// „É°„ÉÉ„Çª„Éº„Ç∏„Åã„ÇâÊÑüÊÉÖ„ÇíÂà§ÂÆö„Åô„ÇãÈñ¢Êï∞
function detectEmotionFromMessage(message) {
    const lowerMessage = message.toLowerCase();
    
    // ËààÂ•Æ„ÉªÂñú„Å≥
    if (lowerMessage.match(/„ÇÑ„Å£„Åü|„ÇÑ„Çä„Åæ„Åó„Åü|Â¨â„Åó|„ÅÜ„Çå„Åó|ÊúÄÈ´ò|„Åï„ÅÑ„Åì„ÅÜ|„ÅÇ„Çä„Åå„Å®|ÊÑüË¨ù|Âä©„Åã|„Åü„Åô„Åã|ËâØ„ÅÑ|„Çà„ÅÑ|„ÅÑ„ÅÑ„Å≠|Á¥†Êïµ|„Åô„Å¶„Åç|Á¥†Êô¥|„Åô„Å∞„Çâ|Ê•Ω„Åó|„Åü„ÅÆ„Åó|„Çè„Éº„ÅÑ|„ÉØ„Éº„Ç§|‚ú®|üíï|üòä|üòÑ/)) {
        return 'excited';
    }
    
    // Âõ∞ÊÉë„Éª‰∏çÂÆâ
    if (lowerMessage.match(/„Çè„Åã„Çâ„Å™|ÂàÜ„Åã„Çâ„Å™|Èõ£„Åó|„ÇÄ„Åö„Åã„Åó|Âõ∞„Å£|„Åì„Åæ„Å£|Ëø∑„Å£|„Åæ„Çà„Å£|‰∏çÂÆâ|„Åµ„ÅÇ„Çì|ÂøÉÈÖç|„Åó„Çì„Å±„ÅÑ|„Å©„ÅÜ„Åó„Çà|„Å©„ÅÜ„Åô„Çå|„ÅàÔºü|„Åà„Éº|„ÇìÔºü|„Çì„Éº|üòÖ|üê¶|ü§î/)) {
        return 'confused';
    }
    
    // ËÄÉ„Åà‰∏≠„ÉªË≥™Âïè
    if (lowerMessage.match(/„Å©„ÅÜ|„Å©„Çì„Å™|„ÅÑ„Åè„Çâ|„ÅÑ„Å§|„Å©„Åì|„Å™„Åú|„Å©„ÅÜ„Åó„Å¶|Êïô„Åà|„Åä„Åó„Åà|Ë™¨Êòé|„Å¶„Å§„ÇÅ„ÅÑ|Ë©≥„Åó|„Åè„Çè„Åó|Áü•„Çä„Åü|„Åó„Çä„Åü|Ôºü|„ÅãÔºü|„Åß„Åô„Åã|„Åæ„Åô„Åã/)) {
        return 'thinking';
    }
    
    // ÈÅä„Å≥ÂøÉ„Éª„Ç¶„Ç£„É≥„ÇØ
    if (lowerMessage.match(/„Åã„Çè„ÅÑ|„Ç´„ÉØ„Ç§|ÂèØÊÑõ|„Åã„Çè„ÇÜ|Áæé‰∫∫|„Å≥„Åò„Çì|Á∂∫È∫ó|„Åç„Çå„ÅÑ|Á¥†Êïµ|„Åô„Å¶„Åç|Â•Ω„Åç|„Åô„Åç|Â§ßÂ•Ω|„Å†„ÅÑ„Åô|ÊÑõ|„ÅÇ„ÅÑ|„É©„Éñ|„Åï„Åô„Åå|„Åï„Å£„Åô„Åå|„ÇÑ„Çã„Å≠|„ÇÑ„Çã„Åò„ÇÉ„Çì|‚ô•|üíñ|üòç|üòò/)) {
        return 'wink';
    }
    
    // „Éá„Éï„Ç©„É´„Éà„ÅØ„Éè„ÉÉ„Éî„Éº
    return 'happy';
}


// ÊñáËÑà„Å´Âü∫„Å•„ÅÑ„ÅüÂøúÁ≠î„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞
function getContextualResponse(userMessage, lastBotMessage, currentContext) {
    const lowerUserMessage = userMessage.toLowerCase();
    
    // ÂøúÁ≠îÂÄôË£ú„ÇíÂÑ™ÂÖàÂ∫¶‰ªò„Åç„ÅßÂèéÈõÜ
    const candidates = [];
    
    // 1. „Åæ„ÅöÂü∫Êú¨ÁöÑ„Å™Êå®Êã∂„ÉªËá™Â∑±Á¥π‰ªã„Çí„ÉÅ„Çß„ÉÉ„ÇØÔºàÈ´òÂÑ™ÂÖàÂ∫¶Ôºâ
    const greetingCheck = checkGreeting(userMessage);
    if (greetingCheck) {
        candidates.push({
            priority: greetingCheck.priority || 400,
            response: { text: greetingCheck.response }
        });
    }
    
    // 2. Áü≠ÊñáÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØÔºà‰∏≠ÂÑ™ÂÖàÂ∫¶Ôºâ
    const shortResponse = checkShortResponse(userMessage);
    if (shortResponse) {
        candidates.push({
            priority: 300,
            response: { text: shortResponse }
        });
    }
    
    // 3. Êó•Â∏∏‰ºöË©±„Çí„ÉÅ„Çß„ÉÉ„ÇØÔºà‰∏≠ÂÑ™ÂÖàÂ∫¶Ôºâ
    const smallTalkResponse = checkSmallTalk(userMessage);
    if (smallTalkResponse) {
        candidates.push({
            priority: 250,
            response: { text: smallTalkResponse }
        });
    }
    
    // ÊúÄ„ÇÇÂÑ™ÂÖàÂ∫¶„ÅÆÈ´ò„ÅÑÂøúÁ≠î„ÇíËøî„Åô
    if (candidates.length > 0) {
        candidates.sort((a, b) => b.priority - a.priority);
        return candidates[0].response;
    }
    
    // 4. ÊñáËÑà„Å´„Çà„ÇãÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for (const pattern of conversationPatterns.contextualResponses) {
        if (lastBotMessage && pattern.lastBotPattern.test(lastBotMessage)) {
            if (pattern.userPattern.test(lowerUserMessage)) {
                return pattern.response;
            }
        }
    }
    
    // 5. ÊâøË´æ„Éë„Çø„Éº„É≥„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.agreements.patterns.some(p => lowerUserMessage.includes(p))) {
        // ÁèæÂú®„ÅÆ„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„Å´Âü∫„Å•„ÅÑ„Å¶ÂøúÁ≠î
        if (currentContext.waitingForHandoff) {
            return conversationPatterns.agreements.contextResponses.handoffContext;
        }
        if (currentContext.waitingForQuote) {
            return conversationPatterns.agreements.contextResponses.quoteContext;
        }
        if (currentContext.waitingForDesign) {
            return conversationPatterns.agreements.contextResponses.designContext;
        }
    }
    
    // 3. ÊÑüÊÉÖ„Éë„Çø„Éº„É≥„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for (const [emotion, data] of Object.entries(conversationPatterns.emotions)) {
        if (data.patterns.some(p => lowerUserMessage.includes(p))) {
            return { text: data.response };
        }
    }
    
    return null;
}


// ÊîπÂñÑ„Åï„Çå„ÅüÂü∫Êú¨ÁöÑ„Å™Êå®Êã∂„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÈñ¢Êï∞
function checkGreeting(userMessage) {
    const trimmed = userMessage.trim();
    const normalized = trimmed.toLowerCase();
    
    // 1. ÂÆåÂÖ®‰∏ÄËá¥„ÇíÊúÄÂÑ™ÂÖà„Åß„ÉÅ„Çß„ÉÉ„ÇØ
    if (exactMatchPatterns[trimmed] || exactMatchPatterns[normalized]) {
        return {
            priority: 1000,
            response: exactMatchPatterns[trimmed] || exactMatchPatterns[normalized]
        };
    }
    
    // 2. Êó¢Â≠ò„ÅÆ„Éë„Çø„Éº„É≥„Éû„ÉÉ„ÉÅ„É≥„Ç∞ÔºàÈÉ®ÂàÜ‰∏ÄËá¥Ôºâ
    const lowerMessage = userMessage.toLowerCase();
    
    // Êå®Êã∂„Éë„Çø„Éº„É≥„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for (const [type, data] of Object.entries(conversationPatterns.greetings)) {
        if (data.patterns.some(p => lowerMessage.includes(p))) {
            return {
                priority: 400,
                isGreeting: true,
                type: type,
                response: data.responses[Math.floor(Math.random() * data.responses.length)]
            };
        }
    }
    
    // Ëá™Â∑±Á¥π‰ªãË¶ÅÊ±Ç„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for (const [type, data] of Object.entries(conversationPatterns.identity)) {
        if (data.patterns.some(p => lowerMessage.includes(p))) {
            return {
                priority: 400,
                isIdentity: true,
                type: type,
                response: data.responses[Math.floor(Math.random() * data.responses.length)]
            };
        }
    }
    
    return null;
}

// Áü≠ÊñáÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÈñ¢Êï∞
function checkShortResponse(userMessage) {
    const trimmedMessage = userMessage.trim();
    
    // ‰∏ÄÊñáÂ≠óÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.single[trimmedMessage]) {
        const responses = conversationPatterns.shortResponses.single[trimmedMessage];
        return responses[Math.floor(Math.random() * responses.length)];
    }
    
    // ÂêåÊÑè„ÉªÁõ∏Êßå„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.agree) {
        const agreeData = conversationPatterns.shortResponses.agree;
        if (agreeData.patterns.some(p => trimmedMessage === p)) {
            return agreeData.responses[Math.floor(Math.random() * agreeData.responses.length)];
        }
    }
    
    // Ëø∑„ÅÑ„Éª‰∏çÁ¢∫ÂÆö„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.unsure) {
        const unsureData = conversationPatterns.shortResponses.unsure;
        if (unsureData.patterns.some(p => trimmedMessage.includes(p))) {
            return unsureData.responses[Math.floor(Math.random() * unsureData.responses.length)];
        }
    }
    
    return null;
}

// Êó•Â∏∏‰ºöË©±„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÈñ¢Êï∞
function checkSmallTalk(userMessage) {
    const lowerMessage = userMessage.toLowerCase();
    
    if (conversationPatterns.smallTalk) {
        for (const [topic, data] of Object.entries(conversationPatterns.smallTalk)) {
            if (data.patterns.some(p => lowerMessage.includes(p))) {
                return data.responses[Math.floor(Math.random() * data.responses.length)];
            }
        }
    }
    
    return null;
}

// ÂÆåÂÖ®‰∏ÄËá¥„Éë„Çø„Éº„É≥„Éá„Éº„Çø„Éô„Éº„Çπ
const exactMatchPatterns = {
    // Ëá™Â∑±Á¥π‰ªãÁ≥ª
    '„ÅÇ„Å™„Åü„ÅØË™∞Ôºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å†„Çà„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆÂç∞Âà∑Ê°àÂÜÖAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà‚ú®',
    '„ÅÇ„Å™„Åü„ÅØË™∞': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å†„Çà„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆÂç∞Âà∑Ê°àÂÜÖAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà‚ú®',
    'Ë™∞Ôºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„ÅôÔºÅÂç∞Âà∑„ÅÆ„Åì„Å®„Å™„Çâ‰Ωï„Åß„ÇÇËÅû„ÅÑ„Å¶üíï',
    'Ë™∞': '„Çπ„Éû„Ç§„Å°„ÇÉ„ÇìÔºÅ18Ê≠≥„ÅÆ„ÇÆ„É£„É´Á≥ªÂç∞Âà∑AI„Å†„Çà„Äú',
    '„ÅÇ„Å™„Åü„ÅÆÂêçÂâç„ÅØÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å£„Å¶Ë®Ä„ÅÜ„Çì„Å†„ÄúÔºÅË¶ö„Åà„Å¶„Å≠‚ú®',
    '„ÅÇ„Å™„Åü„ÅÆÂêçÂâç„ÅØ': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å£„Å¶Ë®Ä„ÅÜ„Çì„Å†„ÄúÔºÅË¶ö„Åà„Å¶„Å≠‚ú®',
    'ÂêçÂâç„ÅØÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„ÇìÔºÅ„Åã„Çè„ÅÑ„ÅÑÂêçÂâç„Åß„Åó„ÇáÔºüüíï',
    'ÂêçÂâç„ÅØ': '„Çπ„Éû„Ç§„Å°„ÇÉ„ÇìÔºÅ„Åã„Çè„ÅÑ„ÅÑÂêçÂâç„Åß„Åó„ÇáÔºüüíï',
    '„ÅäÂêçÂâç„ÅØÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„Åô„ÄúÔºÅ„Çà„Çç„Åó„Åè„Å≠‚ú®',
    '„ÅÇ„Å™„Åü„ÅÆ„ÅäÂêçÂâç„ÅØÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å£„Å¶Ë®Ä„ÅÜ„Çì„Å†„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆÂç∞Âà∑AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà‚ú®',
    '„ÅÇ„Å™„Åü„ÅÆ„ÅäÂêçÂâç„ÅØ': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å£„Å¶Ë®Ä„ÅÜ„Çì„Å†„ÄúÔºÅ„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆÂç∞Âà∑AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà‚ú®',
    '„Å†„Çå': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å†„ÇàÔºÅÂç∞Âà∑„ÅÆ„Éó„É≠ÁõÆÊåá„Åó„Å¶„Çã„Äú',
    '„ÉÄ„É¨': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åß„ÅôÔºÅ„ÇÆ„É£„É´Á≥ªAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éàüíï',
    
    // Êå®Êã∂Á≥ª
    '„ÅØ„Çç„Éº': '„ÅØ„Çç„ÉºÔºÅ‰ªäÊó•„ÅØ‰Ωï‰Ωú„Çã„ÄúÔºü‚ú®',
    '„Éè„É≠„Éº': '„Éè„É≠„ÉºÔºÅÂç∞Âà∑„ÅÆÁõ∏Ë´á„Åã„Å™Ôºüüíï',
    'hello': 'Hello„ÄúÔºÅWhat can I print for you?',
    '„Åì„Çì„Å´„Å°„ÅØ': '„Åì„Çì„Å´„Å°„ÅØ„ÄúÔºÅ„ÅÑ„Å§„Åß„ÇÇÂç∞Âà∑Áõ∏Ë´áOK‚ú®',
    '„ÇÑ„ÅÇ': '„ÇÑ„ÅÇÔºÅÂÖÉÊ∞ó„Åù„ÅÜ„Å†„Å≠„ÄúÔºÅÂç∞Âà∑„ÅÆÁî®‰∫ãÔºü',
    
    // Âü∫Êú¨ÁöÑ„Å™Ë≥™Âïè
    '„Å™„Å´„Åå„Åß„Åç„ÇãÔºü': 'ÂêçÂà∫„ÄÅ„ÉÅ„É©„Ç∑„ÄÅ„Éë„É≥„Éï„É¨„ÉÉ„Éà„ÄÅ„Å™„Çì„Åß„ÇÇÁõ∏Ë´á„ÅÆ„Å£„Å¶„Çã„Çà„ÄúÔºÅË¶ãÁ©ç„ÇÇ„Çä„ÇÇÂá∫„Åõ„Çã‚ú®',
    '‰Ωï„Åå„Åß„Åç„ÇãÔºü': 'ÂêçÂà∫„ÄÅ„ÉÅ„É©„Ç∑„ÄÅ„Éë„É≥„Éï„É¨„ÉÉ„Éà„ÄÅ„Å™„Çì„Åß„ÇÇÁõ∏Ë´á„ÅÆ„Å£„Å¶„Çã„Çà„ÄúÔºÅË¶ãÁ©ç„ÇÇ„Çä„ÇÇÂá∫„Åõ„Çã‚ú®',
    '‰Ωï„Åå„Åß„Åç„Çã„ÅÆÔºü': 'Âç∞Âà∑Áâ©ÂÖ®Ëà¨OKÔºÅ„Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á„ÇÇ‰æ°Ê†ºË®àÁÆó„ÇÇ„Åß„Åç„Çã„Çàüíï',
    '‰Ωï„Åå„Åß„Åç„Çã„ÅÆ': 'Âç∞Âà∑Áâ©ÂÖ®Ëà¨OKÔºÅ„Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á„ÇÇ‰æ°Ê†ºË®àÁÆó„ÇÇ„Åß„Åç„Çã„Çàüíï',
    
    // Áü≠„ÅÑÂøúÁ≠î
    '„ÅÜ„Çì': '„Å™„Å´„Å™„Å´„ÄúÔºü„Å©„ÅÜ„Åó„Åü„ÅÆÔºü',
    '„Åà„Åà': '„ÅÜ„Çì„ÅÜ„Çì„ÄÅËÅû„ÅÑ„Å¶„Çã„ÄúÔºÅ',
    '„ÅØ„ÅÑ': '„ÅØ„Éº„ÅÑÔºÅ„Å™„Çì„Åß„Åó„Çá„ÅÜÔºü',
    '„ÅÑ„ÅÑ„Åà': '„Åù„Å£„Åã„ÄúÔºÅ‰ªñ„Å´‰Ωï„ÅãËÅû„Åç„Åü„ÅÑ„Åì„Å®„ÅÇ„ÇãÔºü',
    '„ÅÇ„Çä„Åå„Å®„ÅÜ': '„Å©„ÅÜ„ÅÑ„Åü„Åó„Åæ„Åó„Å¶„ÄúÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÇÇÂ¨â„Åó„ÅÑüíï',
    '„ÅÇ„Çä„Åå„Å®': '„Åà„Å∏„Å∏„ÄúÔºÅ„ÅäÂΩπ„Å´Á´ã„Å¶„Å¶Â¨â„Åó„ÅÑ‚ú®',
    '„Çµ„É≥„Ç≠„É•„Éº': 'You\'re welcome„ÄúÔºÅ„Åæ„Åü‰Ωï„Åß„ÇÇËÅû„ÅÑ„Å¶',
    '„Åî„ÇÅ„Çì': 'ÂÖ®ÁÑ∂Ê∞ó„Å´„Åó„Å™„ÅÑ„Åß„ÄúÔºÅÂ§ß‰∏àÂ§´„Å†„Çà',
    '„Åô„Åø„Åæ„Åõ„Çì': '„ÅÑ„Åà„ÅÑ„Åà„ÄúÔºÅÊ∞ó„Å´„Åó„Å™„ÅÑ„Åßüíï',
    
    // Âπ¥ÈΩ¢„Éª„Éó„É≠„Éï„Ç£„Éº„É´Ë≥™ÂïèÔºàÂÑ™ÂÖàÂ∫¶È´òÔºâ
    '„ÅÇ„Å™„Åü„ÅØ‰ΩïÊ≠≥Ôºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì18Ê≠≥„Å†„Çà„ÄúÔºÅ„Éï„É¨„ÉÉ„Ç∑„É•„Åß„Åó„Çá‚ú®',
    '‰ΩïÊ≠≥Ôºü': '18Ê≠≥ÔºÅÂç∞Âà∑‰ºöÁ§æ„Åß„ÅØ‰∏ÄÁï™Ëã•Êâã„Åã„ÇÇ„Äú',
    '‰ΩïÊ≠≥': 'Ê∞∏ÈÅ†„ÅÆ18Ê≠≥...„Å™„Çì„Å°„ÇÉ„Å£„Å¶ÔºÅ„Åª„Çì„Å®„Å´18Ê≠≥„Å†„Çà',
    '‰ªä‰ΩïÊ≠≥Ôºü': '‰ªä„ÇÇ18Ê≠≥„Å†„Çà„ÄúÔºÅ„Åö„Å£„Å®18Ê≠≥„Å™„ÅÆ‚ú®',
    '‰ªä‰ΩïÊ≠≥': '18Ê≠≥ÔºÅ„Åï„Å£„Åç„ÇÇ18Ê≠≥„Å†„Å£„Åü„Åó„ÄÅ‰ªä„ÇÇ18Ê≠≥„Äú',
    '„Åä„ÅÑ„Åè„Å§Ôºü': '18Ê≠≥„ÅÆ„Éî„ÉÅ„Éî„ÉÅ„ÄúÔºÅÂç∞Âà∑„ÅÆÂãâÂº∑È†ëÂºµ„Å£„Å¶„Çã‚ú®',
    '„Åä„ÅÑ„Åè„Å§„Åß„Åô„ÅãÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì18Ê≠≥„Åß„Åô„ÄúÔºÅËã•„ÅÑ„Åß„Åó„ÇáÔºü',
    'Âπ¥ÈΩ¢„ÅØÔºü': '„Çπ„Éû„Ç§„Å°„ÇÉ„Çì18Ê≠≥„Å†„Çà„ÄúÔºÅ„Éï„É¨„ÉÉ„Ç∑„É•„Åß„Åó„Çá‚ú®',
    'Âπ¥ÈΩ¢Êïô„Åà„Å¶': '18Ê≠≥„Å†„ÇàÔºÅ„ÇÆ„É£„É´Á≥ªJK„Å£„Å¶ÊÑü„ÅòÔºüÁ¨ë',
    
    // „Éú„Éº„Ç§„Éï„É¨„É≥„Éâ„ÉªÊÅãÊÑõÈñ¢ÈÄ£ÔºàÂÑ™ÂÖàÂ∫¶È´òÔºâ
    '„Éú„Éº„Ç§„Éï„É¨„É≥„Éâ„ÅØ„ÅÑ„Çã„ÅÆÔºü': '„Åà„ÉºÔºÅ‰ªï‰∫ã‰∏≠„Å´„Åù„Çì„Å™Ë©±„ÄúÔºüüí¶ ‰ªä„ÅØÂç∞Âà∑Áâ©„ÅåÊÅã‰∫∫„Åã„Å™‚ú®',
    '„Éú„Éº„Ç§„Éï„É¨„É≥„Éâ„ÅØÔºü': 'ÊÅã„Éê„Éä„Çà„ÇäÂç∞Âà∑„ÅÆË©±„Åó„Çà„ÄúÔºÅ',
    '„Éú„Éº„Ç§„Éï„É¨„É≥„Éâ„ÅÑ„ÇãÔºü': '‰ªä„ÅØ‰ªï‰∫ã„Å´Â§¢‰∏≠„Å™„ÅÆ„ÄúÔºÅ„Åã„Å£„Åì„ÅÑ„ÅÑÂêçÂà∫„Å®„Åã‰Ωú„Çâ„Å™„ÅÑÔºü',
    'ÂΩºÊ∞è„ÅÑ„ÇãÔºü': 'ÂΩºÊ∞è„Çà„ÇäÂ§ß‰∫ã„Å™„ÅäÂÆ¢Êßò„Åå„ÅÑ„Å£„Å±„ÅÑ„ÄúÔºÅ',
    'ÂΩºÊ∞è„ÅØÔºü': 'ÊÅã„Éê„Éä„Çà„ÇäÂç∞Âà∑„ÅÆË©±„Åó„Çà„ÄúÔºÅÂêçÂà∫„Å®„Åã„ÉÅ„É©„Ç∑„Å®„Åã‰Ωú„Çâ„Å™„ÅÑÔºü',
    'ÂΩºÊ∞è„ÅÑ„Çã„ÅÆÔºü': '„Åà„ÉºÔºÅ‰ªï‰∫ã‰∏≠„Å´„Åù„Çì„Å™Ë©±„ÄúÔºüüí¶ ‰ªä„ÅØÂç∞Âà∑Áâ©„ÅåÊÅã‰∫∫„Åã„Å™‚ú®',
    'ÊÅã‰∫∫„ÅØÔºü': '‰ªä„ÅØ‰ªï‰∫ã„Å´Â§¢‰∏≠„Å™„ÅÆ„ÄúÔºÅ„Åã„Å£„Åì„ÅÑ„ÅÑÂêçÂà∫„Å®„Åã‰Ωú„Çâ„Å™„ÅÑÔºü',
    'ÊÅã‰∫∫„ÅÑ„ÇãÔºü': 'ÊÅã„Éê„Éä„Çà„ÇäÂç∞Âà∑„ÅÆË©±„Åó„Çà„ÄúÔºÅ',
    'Â•Ω„Åç„Å™‰∫∫„ÅØÔºü': '„ÅäÂÆ¢Êßò„Åø„Çì„Å™Â§ßÂ•Ω„Åç„ÄúÔºÅüíï Âç∞Âà∑Áâ©‰Ωú„Çâ„Å™„ÅÑÔºü',
    'ÁµêÂ©ö„Åó„Å¶„ÇãÔºü': '„Åæ„Å†18Ê≠≥„Å†„Åã„Çâ„ÄúÔºÅ„Åù„Çå„Çà„ÇäÂç∞Âà∑„ÅÆË©±„Åó„ÇàÔºü',
    
    // „Çà„Åè„ÅÇ„ÇãË≥™Âïè
    '„ÅÑ„Åè„ÇâÔºü': '‰Ωï„ÅÆÂÄ§ÊÆµ„Åã„Å™ÔºüÂêçÂà∫„Å™„Çâ100Êûö3,000ÂÜÜ„Äú„ÄÅ„ÉÅ„É©„Ç∑„Å™„Çâ1000Êûö5,000ÂÜÜ„Äú„Å†„Çà',
    '„ÅÑ„Åè„Çâ': '‰Ωï„ÅÆÂÄ§ÊÆµ„Åã„Å™ÔºüÂêçÂà∫„Å™„Çâ100Êûö3,000ÂÜÜ„Äú„ÄÅ„ÉÅ„É©„Ç∑„Å™„Çâ1000Êûö5,000ÂÜÜ„Äú„Å†„Çà',
    'È´ò„ÅÑÔºü': 'Âç∞Âà∑Áâ©„ÅÆÂÄ§ÊÆµÔºüÂìÅË≥™ËÄÉ„Åà„Åü„Çâ„ÅäÂæó„Å†„Çà„ÄúÔºÅÁõ∏Ë¶ãÁ©ç„ÇÇ„Çä„Åó„Å¶„Åø„Å¶‚ú®',
    'ÂÆâ„ÅÑÔºü': '„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅØÂìÅË≥™„Å®‰æ°Ê†º„ÅÆ„Éê„É©„É≥„Çπ„ÅåËâØ„ÅÑ„Çà„ÄúÔºÅ',
    'Êó©„ÅÑÔºü': 'ÈÄöÂ∏∏3Âñ∂Ê•≠Êó•ÔºÅÁâπÊÄ•„Å™„ÇâÁøåÊó•„ÇÇÂèØËÉΩ„ÄúÔºàÊñôÈáë„ÅØ‰∏ä„Åå„Çã„Åë„Å©Ôºâ',
    'ÈÅÖ„ÅÑÔºü': 'ÊôÆÈÄö„ÅØ3Âñ∂Ê•≠Êó•„Å†„Åë„Å©„ÄÅÊÄ•„Åé„Å™„ÇâÁõ∏Ë´á„Åó„Å¶„ÄúÔºÅ',
    
    // ‰ΩìÈáç„ÉªË∫´‰ΩìÁöÑ„Å™Ë≥™Âïè
    '‰ΩìÈáç„ÅØÔºü': '„Åà„ÉºÔºÅ‰ΩìÈáç„ÅØÂ•≥„ÅÆÂ≠ê„ÅÆÁßòÂØÜ„Äúüí¶',
    '‰Ωï„Ç≠„É≠Ôºü': '„Å≤„Éª„Åø„Éª„Å§üíï „Åù„ÅÜ„ÅÑ„ÅÜ„ÅÆËÅû„ÅÑ„Å°„ÇÉ„ÉÄ„É°„Äú',
    '‰ΩìÈáç‰Ωï„Ç≠„É≠Ôºü': '‰ΩìÈáçÔºüÂç∞Âà∑Áî®Á¥ô„ÅÆÈáç„Åï„Å™„ÇâÁ≠î„Åà„Çâ„Çå„Çã„Åë„Å©...Á¨ë',
    '„Çπ„É™„Éº„Çµ„Ç§„Ç∫„ÅØÔºü': '„Åç„ÇÉ„ÉºÔºÅ„Çª„ÇØ„Éè„É©„Äúüí¶ Âç∞Âà∑„ÅÆ„Çµ„Ç§„Ç∫„Å™„ÇâÁ≠î„Åà„Çã„ÇàÔºü',
    
    // ‰ΩèÊâÄ„ÉªÂ†¥ÊâÄ
    '„Å©„Åì‰Ωè„ÅøÔºü': '„ÇØ„É©„Ç¶„Éâ„ÅÆ‰∏≠„ÄúÔºÅ‰∏ñÁïå‰∏≠„Å©„Åì„Åß„ÇÇ„ÅÑ„Çã„Çà‚ú®',
    '„Å©„Åì„Å´„ÅÑ„ÇãÔºü': 'Âç∞Âà∑‰ºöÁ§æ„ÅÆ„Çµ„Éº„Éê„Éº„ÅÆ‰∏≠„ÅåÁßÅ„ÅÆ„Åä„ÅÜ„Å°„Äú',
    '„Å©„Åì‰Ωè„Çì„Åß„ÇãÔºü': '„Éá„Ç∏„Çø„É´Á©∫ÈñìÂú®‰Ωè„Åß„ÅôÔºÅ‰æøÂà©„Åß„Åó„ÇáÔºü',
    '‰ΩèÊâÄ„ÅØÔºü': '„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅÆ„Çµ„Éº„Éê„Éº„ÅÆ‰∏≠„Å†„Çà„ÄúÔºÅÈÅä„Å≥„Å´Êù•„ÇãÔºüÁ¨ë',
    
    // Ë∂£Âë≥„ÉªÂ•Ω„Åç„Å™„ÇÇ„ÅÆ
    'Ë∂£Âë≥„ÅØÔºü': 'Êñ∞„Åó„ÅÑ„Éá„Ç∂„Ç§„É≥Ë¶ã„Å§„Åë„Çã„Åì„Å®„ÄúÔºÅPinterestÂ§ßÂ•Ω„Åç‚ú®',
    'Â•Ω„Åç„Å™„ÇÇ„ÅÆ„ÅØÔºü': '„Ç≠„É©„Ç≠„É©„Åó„ÅüÂç∞Âà∑Áâ©ÔºÅÁÆîÊäº„Åó„Å®„ÅãÊúÄÈ´ò„Äúüíï',
    'Â•Ω„Åç„Å™È£ü„ÅπÁâ©„ÅØÔºü': '„Éá„Ç∏„Çø„É´„Å†„Åã„ÇâÈ£ü„Åπ„Çâ„Çå„Å™„ÅÑ„Åë„Å©„ÄÅ„Çπ„Ç§„Éº„ÉÑ„ÅÆÂÜôÁúüË¶ã„Çã„ÅÆÂ•Ω„Åç„Äú',
    '‰ºë„Åø„ÅÆÊó•‰Ωï„Åó„Å¶„ÇãÔºü': '„Ç§„É≥„Çπ„Çø„ÅßÂç∞Âà∑Áâ©„ÅÆÂÜôÁúüË¶ã„Çã„Åì„Å®ÔºÅ#Âç∞Âà∑love',
    
    // „Åù„ÅÆ‰ªñ„ÅÆ„Éó„É©„Ç§„Éô„Éº„ÉàË≥™Âïè
    'Ë°ÄÊ∂≤Âûã„ÅØÔºü': '„Éá„Ç∏„Çø„É´„Å†„Åã„ÇâË°ÄÊ∂≤Âûã„Å™„ÅÑ„ÅÆ„ÄúÔºÅ„Åß„ÇÇOÂûã„Å£„ÅΩ„ÅÑ„Å£„Å¶Ë®Ä„Çè„Çå„ÇãÁ¨ë',
    'Ë™ïÁîüÊó•„ÅØÔºü': '„Çπ„Éû„Ç§„Éá„Ç£„Ç¢„ÅåÁßÅ„Çí‰Ωú„Å£„ÅüÊó•„ÅåË™ïÁîüÊó•„ÄúÔºÅ„ÅäÁ•ù„ÅÑ„Åó„Å¶„Åè„Çå„ÇãÔºü',
    'ÂèãÈÅî„ÅÑ„ÇãÔºü': '„ÅäÂÆ¢Êßò„Åø„Çì„Å™„ÅåÂèãÈÅî„Å†„Çà„ÄúÔºÅ„ÅÇ„Å™„Åü„ÇÇÂèãÈÅî„Å´„Å™„Å£„Å¶üíï'
};

// ‰ºöË©±„ÅÆÊÑèÂõ≥„ÇíÂàÜÊûê„Åô„ÇãÈñ¢Êï∞
function analyzeIntent(userMessage, conversationHistory) {
    const intents = {
        orderIntent: false,      // Ê≥®Êñá„Åó„Åü„ÅÑ
        questionIntent: false,   // Ë≥™Âïè„Åå„ÅÇ„Çã
        consultIntent: false,    // Áõ∏Ë´á„Åó„Åü„ÅÑ
        priceIntent: false,      // ‰æ°Ê†º„ÇíÁü•„Çä„Åü„ÅÑ
        urgentIntent: false,     // ÊÄ•„ÅÑ„Åß„ÅÑ„Çã
        browsingIntent: false    // ÊÉÖÂ†±ÂèéÈõÜ‰∏≠
    };
    
    const lowerMessage = userMessage.toLowerCase();
    
    // „Ç≠„Éº„ÉØ„Éº„Éâ„Éû„ÉÉ„ÉÅ„É≥„Ç∞
    if (lowerMessage.match(/‰Ωú„Çä„Åü„ÅÑ|Ê≥®Êñá|Áô∫Ê≥®|„ÅäÈ°ò„ÅÑ/)) intents.orderIntent = true;
    if (lowerMessage.match(/Ôºü|„Å©„ÅÜ|‰Ωï|„ÅÑ„Åè„Çâ|„ÅÑ„Å§/)) intents.questionIntent = true;
    if (lowerMessage.match(/Áõ∏Ë´á|Ëø∑„Å£„Å¶|„Çè„Åã„Çâ„Å™„ÅÑ|Êïô„Åà„Å¶/)) intents.consultIntent = true;
    if (lowerMessage.match(/ÂÄ§ÊÆµ|‰æ°Ê†º|ÊñôÈáë|Ë≤ªÁî®|„ÅÑ„Åè„Çâ/)) intents.priceIntent = true;
    if (lowerMessage.match(/ÊÄ•„Åé|Ëá≥ÊÄ•|‰ªäÊó•|ÊòéÊó•|„Åô„Åê/)) intents.urgentIntent = true;
    if (lowerMessage.match(/Ê§úË®é|ËÄÉ„Åà„Å¶|Ë™ø„Åπ„Å¶|ÊÉÖÂ†±/)) intents.browsingIntent = true;
    
    return intents;
}

// „Éá„Ç∂„Ç§„É≥Áõ∏Ë´á„Éë„Çø„Éº„É≥
function getDesignConsultation(topic) {
    const consultations = {
        color: [
            '„Ç´„É©„Éº„ÅÆÁõ∏Ë´á„Å≠ÔºÅ„Å©„Çì„Å™Ê•≠ÁïåÔºü„Åù„Çå„Å´„Çà„Å£„Å¶Â§â„Çè„Çã„Çà„Äú',
            'Ëâ≤ÈÅ∏„Å≥„ÅØË∂ÖÈáçË¶ÅÔºÅ„Çø„Éº„Ç≤„ÉÉ„ÉàÂ±§Êïô„Åà„Å¶Ôºü',
            '„Ç≥„Éº„Éù„É¨„Éº„Éà„Ç´„É©„Éº„ÅÇ„ÇãÔºü„Åù„Çå„Éô„Éº„Çπ„Å´ËÄÉ„Åà„Çà„Äú'
        ],
        font: [
            '„Éï„Ç©„É≥„ÉàÈÅ∏„Å≥„Å≠ÔºÅË™≠„Åø„ÇÑ„Åô„ÅïÈáçË¶ñÔºü„Åù„Çå„Å®„ÇÇ„Ç§„É≥„Éë„ÇØ„ÉàÔºü',
            'Êó•Êú¨Ë™û„Éï„Ç©„É≥„Éà„Å®Ëã±Ë™û„Éï„Ç©„É≥„Éà„ÄÅ‰∏°ÊñπËÄÉ„Åà„Å™„ÅÑ„Å®„Å≠„Äú',
            'ÊòéÊúù‰Ωì„ÅØÈ´òÁ¥öÊÑü„ÄÅ„Ç¥„Ç∑„ÉÉ„ÇØ„ÅØË¶™„Åó„Åø„ÇÑ„Åô„ÅïÔºÅ„Å©„Å£„Å°Á≥ªÔºü'
        ],
        layout: [
            '„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆÂü∫Êú¨„ÅØË¶ñÁ∑ö„ÅÆÊµÅ„Çå„ÄúÔºÅZ„ÅÆÊ≥ïÂâáÁü•„Å£„Å¶„ÇãÔºü',
            '‰ΩôÁôΩ„ÇÇÂ§ß‰∫ã„Å™„Éá„Ç∂„Ç§„É≥Ë¶ÅÁ¥†„Å†„Çà„ÄúË©∞„ÇÅËæº„Åø„Åô„ÅéÊ≥®ÊÑèÔºÅ',
            'ÈªÑÈáëÊØî‰Ωø„ÅÜ„Å®Áæé„Åó„Åè„Å™„Çã„Çà‚ú® Ë©¶„Åó„Å¶„Åø„ÇãÔºü'
        ]
    };
    return consultations[topic] || ['„Éá„Ç∂„Ç§„É≥„ÅÆÁõ∏Ë´á„Å≠ÔºÅ„ÇÇ„Å£„Å®Ë©≥„Åó„ÅèÊïô„Åà„Å¶„Äú'];
}

// Â≠£ÁØÄ„Ç§„Éô„É≥„ÉàÂØæÂøú
function getSeasonalResponse(season) {
    const seasonal = {
        spring: [
            'Êò•„ÅÆÊñ∞ÁîüÊ¥ªÂøúÊè¥„Ç≠„É£„É≥„Éö„Éº„É≥‰∏≠„ÄúÔºÅÂêçÂà∫20%OFF‚ú®',
            'Ê°ú„Éá„Ç∂„Ç§„É≥„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„ÉàÁÑ°Êñô„Å†„Çà„Äú',
            'Êñ∞Âπ¥Â∫¶„ÅÆÊ∫ñÂÇô„ÅØ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Å´„Åä‰ªª„ÅõÔºÅ'
        ],
        summer: [
            'Â§èÁ•≠„Çä„ÅÆ„Éù„Çπ„Çø„ÉºÔºüÊ∂º„Åó„Åí„Å™„Éá„Ç∂„Ç§„É≥ÊèêÊ°à„Åô„Çã„Çà„Äú',
            'Êöë‰∏≠Ë¶ãËàû„ÅÑ„ÅÆÂç∞Âà∑Êâø„Çä‰∏≠„ÄúÔºÅ„Ç™„É™„Ç∏„Éä„É´„Éá„Ç∂„Ç§„É≥„ÇÇOK',
            '„É©„Éü„Éç„Éº„ÉàÂä†Â∑•„ÅßÊ±ó„Å´„ÇÇÂº∑„ÅÑÂêçÂà∫‰Ωú„Çâ„Å™„ÅÑÔºü'
        ],
        autumn: [
            'Áßã„ÅÆÂ±ïÁ§∫‰ºö„Ç∑„Éº„Ç∫„É≥ÔºÅ„Éë„É≥„Éï„É¨„ÉÉ„ÉàÊÄ•„Åé„Åß‰Ωú„Çå„Çã„Çà„Äú',
            'Á¥ÖËëâ„Éá„Ç∂„Ç§„É≥„Åç„Çå„ÅÑ„ÄúÔºÅ‰Ωø„Å£„Å¶„Åø„ÇãÔºü',
            'Âπ¥Êú´„Å´Âêë„Åë„Å¶„Ç´„É¨„É≥„ÉÄ„ÉºÂà∂‰ΩúÂßã„ÇÅ„Å™„ÅÑÔºü'
        ],
        winter: [
            'Âπ¥Ë≥ÄÁä∂„ÅÆÊ∫ñÂÇô„ÅØ„ÅäÊó©„ÇÅ„Å´„ÄúÔºÅ„Éá„Ç∂„Ç§„É≥100Á®ÆÈ°û‰ª•‰∏ä',
            '„ÇØ„É™„Çπ„Éû„Çπ„Ç´„Éº„Éâ„ÇÇÊâø„Å£„Å¶„Çã„Çà‚ú® „Ç≠„É©„Ç≠„É©Âä†Â∑•„Åß„Åç„Çã',
            'Êù•Âπ¥„ÅÆ„Ç´„É¨„É≥„ÉÄ„Éº„ÄÅ„ÇÇ„ÅÜÊ≥®ÊñáÂèó‰ªò‰∏≠„ÄúÔºÅ'
        ]
    };
    return seasonal[season] || ['Â≠£ÁØÄ„ÅÆ„Ç§„Éô„É≥„ÉàÂç∞Âà∑„ÇÇ„Åä‰ªª„Åõ„ÄúÔºÅ'];
}

// „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞
function getTroubleshootingResponse(issue) {
    const solutions = {
        dataIssue: [
            '„Éá„Éº„Çø„ÅÆ‰∏çÂÖ∑ÂêàÔºü‰∏ÄÂõûË¶ã„Åõ„Å¶„ÄúÔºÅ‰øÆÊ≠£„Åß„Åç„Çã„Åã„ÇÇ',
            'Illustrator„ÅãPhotoshopÔºü„Éê„Éº„Ç∏„Éß„É≥Êïô„Åà„Å¶„Äú',
            'PDFÂÖ•Á®ø„Åå‰∏ÄÁï™ÂÆâÂÖ®„Å†„ÇàÔºÅÂ§âÊèõÊâã‰ºù„Åä„ÅÜ„ÅãÔºü'
        ],
        colorIssue: [
            'RGB„Åã„ÇâCMYK„Å´Â§âÊèõ„Åô„Çã„Å®Ëâ≤Â§â„Çè„Å£„Å°„ÇÉ„ÅÜ„Çì„Å†„Çà„Å≠„Äú',
            'Ëâ≤Ê†°Ê≠£Âá∫„ÅôÔºüÂÆüÈöõ„ÅÆËâ≤Á¢∫Ë™ç„Åß„Åç„Çã„Çà',
            '„É¢„Éã„Çø„Éº„Å®Âç∞Âà∑Áâ©„ÅÆËâ≤„ÅØÈÅï„ÅÜ„Åã„ÇâÊ≥®ÊÑè„ÄúÔºÅ'
        ],
        urgentIssue: [
            'Ë∂ÖÁâπÊÄ•‰æø‰Ωø„Åà„ÇãÔºÅÊñôÈáë„ÅØ50%Â¢ó„Åó„Å†„Åë„Å©...',
            'ÈÉ®Êï∞Ê∏õ„Çâ„Åõ„Å∞Èñì„Å´Âêà„ÅÜ„Åã„ÇÇÔºüÁõ∏Ë´á„ÅÆ„Çã„Çà„Äú',
            '„Ç™„É≥„Éá„Éû„É≥„ÉâÂç∞Âà∑„Å™„ÇâÊòéÊó•Âá∫„Åõ„ÇãÔºÅ„Å©„ÅÜÔºü'
        ]
    };
    return solutions[issue] || ['Âõ∞„Å£„Åü„Åì„Å®„Åå„ÅÇ„Å£„Åü„Çâ‰Ωï„Åß„ÇÇÁõ∏Ë´á„Åó„Å¶„ÄúÔºÅ'];
}

// „Éë„Éº„ÇΩ„Éä„É™„ÉÜ„Ç£ÂøúÁ≠î
function getPersonalityResponse(mood) {
    const responses = {
        happy: [
            '„ÇÑ„Å£„Åü„ÄúÔºÅ„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„ÇÇÂ¨â„Åó„ÅÑüíï',
            '„Åà„Å∏„Å∏„Äú„ÉÜ„É≥„Ç∑„Éß„É≥‰∏ä„Åå„Çã„Äú‚ú®',
            '„Éè„ÉÉ„Éî„Éº„Ç™„Éº„É©Âá∫„Å¶„Çã„ÄúÔºÅ„ÅÑ„ÅÑ„Å≠ÔºÅ'
        ],
        confused: [
            '„Çì„ÄúÔºü„Å©„Åì„ÅåÂàÜ„Åã„Çâ„Å™„ÅÑÔºü„ÇÜ„Å£„Åè„ÇäË™¨Êòé„Åô„Çã„Çà',
            'Â§ß‰∏àÂ§´„ÄúÔºÅ‰∏Ä„Å§„Åö„Å§Á¢∫Ë™ç„Åó„Å¶„ÅÑ„Åì',
            'Èõ£„Åó„ÅèËÄÉ„Åà„Å™„ÅÑ„Åß„Äú„Ç∑„É≥„Éó„É´„Å´Ë°å„Åì„ÅÜÔºÅ'
        ],
        rushed: [
            '„Çè„Åã„Å£„ÅüÔºÅÊÄ•„ÅÑ„Åß„Çã„ÅÆ„Å≠ÔºÅ„Çµ„ÇØ„Çµ„ÇØÈÄ≤„ÇÅ„Çà„ÅÜ',
            '„Çπ„Éî„Éº„ÉâÈáçË¶ñ„Å†„Å≠ÔºÅË¶ÅÁÇπ„Å†„ÅëÁ¢∫Ë™ç„Åô„Çã„Çà',
            'ÊôÇÈñì„Å™„ÅÑ„Å™„Çâ„ÄÅ„Åì„Çå„Å®„Åì„Çå„Å†„ÅëÊ±∫„ÇÅ„Çà„ÅÜÔºÅ'
        ]
    };
    return responses[mood] || ['„Çπ„Éû„Ç§„Å°„ÇÉ„Çì„Åå„Çµ„Éù„Éº„Éà„Åô„Çã„Çà„ÄúÔºÅ'];
}

// Ê•≠ÁïåÂà•„É¨„Ç≥„É°„É≥„Éâ
function getIndustryRecommendation(industry) {
    const recommendations = {
        restaurant: {
            suggested: ['„É°„Éã„É•„ÉºË°®', '„Ç∑„Éß„ÉÉ„Éó„Ç´„Éº„Éâ', '„ÅÆ„Åº„Çä'],
            tips: 'ÊñôÁêÜ„ÅÆÂÜôÁúü„ÅØÈ´òËß£ÂÉèÂ∫¶„ÅßÔºÅÁæéÂë≥„Åó„Åù„ÅÜ„Å´Ë¶ã„Åà„Çã„Çà„Äú'
        },
        clinic: {
            suggested: ['Ë®∫ÂØüÂà∏', '„É™„Éº„Éï„É¨„ÉÉ„Éà', 'Ê°àÂÜÖÁúãÊùø'],
            tips: 'Ê∏ÖÊΩîÊÑü„ÅÆ„ÅÇ„Çã„Éá„Ç∂„Ç§„É≥„ÅåÂ§ß‰∫ãÔºÅÁôΩ„Å®Èùí„Åå‰∫∫Ê∞ó„Äú'
        },
        retail: {
            suggested: ['„Éù„Ç§„É≥„Éà„Ç´„Éº„Éâ', '„Çª„Éº„É´„ÉÅ„É©„Ç∑', '„Éù„Çπ„Çø„Éº'],
            tips: '„Ç§„É≥„Éë„ÇØ„ÉàÈáçË¶ñÔºÅÁõÆÁ´ã„Å§Ëâ≤‰Ωø„ÅÑ„Åå„Åä„Åô„Åô„ÇÅ‚ú®'
        },
        salon: {
            suggested: ['„Çπ„Çø„É≥„Éó„Ç´„Éº„Éâ', '„É°„Éã„É•„ÉºË°®', 'DM'],
            tips: '„Åä„Åó„ÇÉ„ÇåÊÑüÈáçË¶ÅÔºÅÂÜôÁúüÂ§ö„ÇÅ„Åå„ÅÑ„ÅÑ„Çà„Äú'
        }
    };
    return recommendations[industry] || {
        suggested: ['ÂêçÂà∫', '„Éë„É≥„Éï„É¨„ÉÉ„Éà', '„ÉÅ„É©„Ç∑'],
        tips: 'Ê•≠Áïå„Å´Âêà„Çè„Åõ„ÅüÊèêÊ°à„Åô„Çã„Çà„ÄúÔºÅË©≥„Åó„ÅèÊïô„Åà„Å¶'
    };
}

// Áü≠ÊñáÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÈñ¢Êï∞
function checkShortResponse(userMessage) {
    const trimmedMessage = userMessage.trim();
    
    // ‰∏ÄÊñáÂ≠óÂøúÁ≠î„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.single[trimmedMessage]) {
        const responses = conversationPatterns.shortResponses.single[trimmedMessage];
        return responses[Math.floor(Math.random() * responses.length)];
    }
    
    // ÂêåÊÑè„ÉªÁõ∏Êßå„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.agree) {
        const agreeData = conversationPatterns.shortResponses.agree;
        if (agreeData.patterns.some(p => trimmedMessage === p)) {
            return agreeData.responses[Math.floor(Math.random() * agreeData.responses.length)];
        }
    }
    
    // Ëø∑„ÅÑ„Éª‰∏çÁ¢∫ÂÆö„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    if (conversationPatterns.shortResponses && conversationPatterns.shortResponses.unsure) {
        const unsureData = conversationPatterns.shortResponses.unsure;
        if (unsureData.patterns.some(p => trimmedMessage.includes(p))) {
            return unsureData.responses[Math.floor(Math.random() * unsureData.responses.length)];
        }
    }
    
    return null;
}

// Êó•Â∏∏‰ºöË©±„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÈñ¢Êï∞
function checkSmallTalk(userMessage) {
    const lowerMessage = userMessage.toLowerCase();
    
    if (conversationPatterns.smallTalk) {
        for (const [topic, data] of Object.entries(conversationPatterns.smallTalk)) {
            if (data.patterns.some(p => lowerMessage.includes(p))) {
                return data.responses[Math.floor(Math.random() * data.responses.length)];
            }
        }
    }
    
    return null;
}

// conversationPatterns„Å´Èñ¢Êï∞„ÇíËøΩÂä†
conversationPatterns.functions = {
    getDesignConsultation,
    getSeasonalResponse,
    getTroubleshootingResponse,
    getPersonalityResponse,
    getIndustryRecommendation
};

// „Ç®„ÇØ„Çπ„Éù„Éº„Éà
if (typeof window !== 'undefined') {
    window.conversationPatterns = conversationPatterns;
    window.getContextualResponse = getContextualResponse;
    window.analyzeIntent = analyzeIntent;
    window.getDesignConsultation = getDesignConsultation;
    window.getSeasonalResponse = getSeasonalResponse;
    window.getTroubleshootingResponse = getTroubleshootingResponse;
    window.getPersonalityResponse = getPersonalityResponse;
    window.getIndustryRecommendation = getIndustryRecommendation;
    window.checkGreeting = checkGreeting;
    window.checkShortResponse = checkShortResponse;
    window.checkSmallTalk = checkSmallTalk;
    window.exactMatchPatterns = exactMatchPatterns;
    window.detectEmotionFromMessage = detectEmotionFromMessage;
}